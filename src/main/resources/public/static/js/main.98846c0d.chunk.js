(this.webpackJsonpstock_exchange_platform=this.webpackJsonpstock_exchange_platform||[]).push([[0],{157:function(n,e,t){},215:function(n,e,t){},216:function(n,e,t){},293:function(n,e,t){"use strict";t.r(e);var r=t(1),c=t(0),o=t.n(c),i=t(14),a=t.n(i),s=(t(157),t(7)),u=t(15),l=t(16),d=t(4),j=t(5);function b(){var n=Object(j.a)(["\n    display: flex;\n    box-sizing: border-box;\n    height: 100%;\n    padding: 20px;\n    border-radius: 2px;\n    background: #fff;\n    border-bottom: 5px solid #cfcfcf;\n"]);return b=function(){return n},n}function f(n){return Object(r.jsx)(h,{children:n.children})}var h=d.c.div(b()),x=t(77),O=t(92);function m(n){var e=n.symbol,t=n.chartdata.map((function(n){return{x:new Date(n.date),y:n.price}})),c=t?Math.floor(Math.min.apply(Math,Object(x.a)(t.map((function(n){return n.y}))))/2):0,o={animationEnabled:!0,theme:"light2",height:400,title:{text:"Stock Price of ".concat(e),fontSize:22,horizontalAlign:"center"},axisX:{valueFormatString:"YYYY.MM.DD",crosshair:{enabled:!0,snapToDataPoint:!0}},axisY:{title:"Closing Price (USD)",valueFormatString:"$##0.00",minimum:c,crosshair:{enabled:!0,snapToDataPoint:!0,labelFormatter:function(n){return"$"+O.a.formatNumber(n.value,"##0.00")}}},data:[{type:"area",xValueFormatString:"YYYY.MM.DD",yValueFormatString:"$##0.00",dataPoints:t.sort((function(n,e){return n.x-e.x}))}]};return Object(r.jsx)(f,{children:Object(r.jsx)(O.b,{options:o})})}var p=t(347),g=t(133),v=t.n(g),y=Object(c.createContext)(),w=function(n){var e=Object(c.useState)([]),t=Object(s.a)(e,2),o=t[0],i=t[1],a=Object(c.useState)([]),u=Object(s.a)(a,2),l=u[0],d=u[1],j=Object(c.useState)(),b=Object(s.a)(j,2),f=(b[0],b[1]),h="/stock/all",x="/stock/data";function O(n){var e=n.headers.destination,t=JSON.parse(n.body);e===h&&d(t),e===x&&d((function(n){return n.map((function(n){return n.symbol===t.symbol?t:n}))}))}return Object(c.useEffect)((function(){v.a.get("https://stock-exchange-platform.herokuapp.com/stock-base-data/list").then((function(n){return i(n.data)}))}),[]),Object(c.useEffect)((function(){var n=new p.a;return n.brokerURL="wss://stock-exchange-platform.herokuapp.com/socket",n.onConnect=function(e){n.subscribe(h,O),n.subscribe(x,O)},n.activate(),f(n),function(){return n.deactivate()}}),[]),Object(r.jsx)(y.Provider,{value:[function(n){var e=o.filter((function(e){return e.symbol===n})),t=Object(s.a)(e,1)[0];return t&&t.companyName},l,function(n){var e=l.filter((function(e){return e.symbol===n}));return Object(s.a)(e,1)[0]},o.map((function(n){return n.symbol}))],children:n.children})};function k(){var n=Object(j.a)(["\n    @media (max-width: 768px){\n        font-size: 1.2em;\n        margin-left: auto;\n    }\n"]);return k=function(){return n},n}function C(){var n=Object(j.a)(["\n\n"]);return C=function(){return n},n}function S(){var n=Object(j.a)(["\n    border-bottom: 1px solid #ddd;\n    text-align: right;\n"]);return S=function(){return n},n}function T(){var n=Object(j.a)(["\n    border-bottom: 1px solid #ddd;\n    padding: 10px;\n    text-align: left;\n"]);return T=function(){return n},n}function P(n){var e=Object(c.useContext)(y)[2],t=n.data,o=e(t.symbol),i=new Date(t.lastTradeTime),a=(new Intl.NumberFormat).format(t.marketCap),s=(new Intl.NumberFormat).format(t.avgTotalVolume);return Object(r.jsx)(f,{children:Object(r.jsx)(L,{children:Object(r.jsxs)("tbody",{children:[o&&Object(r.jsxs)(I,{children:[Object(r.jsx)(N,{children:"Current price"}),Object(r.jsx)(F,{children:o.latestPrice})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(N,{children:"Previous close"}),Object(r.jsx)(F,{children:t.previousClose})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(N,{children:"Market cap"}),Object(r.jsx)(F,{children:a})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(N,{children:"52 Week range"}),Object(r.jsx)(F,{children:t.week52Low+" - "+t.week52High})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(N,{children:"Average volume"}),Object(r.jsx)(F,{children:s})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(N,{children:"P/E ratio"}),Object(r.jsx)(F,{children:t.peRatio})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(N,{children:"Year-to-Date change"}),Object(r.jsx)(F,{children:Math.round(1e4*t.ytdChange)/100+"%"})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(N,{children:"Last trade time"}),Object(r.jsx)(F,{children:i.toLocaleDateString()+" "+i.toLocaleTimeString()})]})]})})})}var N=d.c.td(T()),F=d.c.td(S()),I=d.c.tr(C()),L=d.c.table(k()),E=Object(c.createContext)(),z=function(n){var e=Object(c.useState)(localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):[]),t=Object(s.a)(e,2),o=t[0],i=t[1];return Object(r.jsx)(E.Provider,{value:[o,function(n){i((function(e){var t=[].concat(Object(x.a)(e),[n]);return localStorage.setItem("favourites",JSON.stringify(t)),t}))},function(n){var e=o.filter((function(e){return e.symbol!==n.symbol}));i(e),localStorage.setItem("favourites",JSON.stringify(e))},function(n,e){var t,r=o.filter((function(e){return e.symbol===n}))[0],c=o.indexOf(r);t=c+e===o.length?0:c+e<0?o.length-1:c+e;var a=o.filter((function(e){return e.symbol!==n}));a.splice(t,0,r),i(a),localStorage.setItem("favourites",JSON.stringify(a))}],children:n.children})};function A(){var n=Object(j.a)(["\n    color: white;\n    text-decoration: none;\n    & :visited{\n        color: white;\n        text-decoration: none\n    }\n"]);return A=function(){return n},n}function R(){var n=Object(j.a)(["\n    background-color: #21255e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n    margin: 5px;\n"]);return R=function(){return n},n}function D(){var n=Object(j.a)(["\n    background-color: #47485e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n"]);return D=function(){return n},n}function M(){var n=Object(j.a)(["\n    background-color: #21255e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n"]);return M=function(){return n},n}function W(){var n=Object(j.a)(["\n        color: red;\n    "]);return W=function(){return n},n}function _(){var n=Object(j.a)(["\n    padding-top: 0.2em;\n    font-size: 0.8em;\n    color: green;\n    vertical-align: bottom;\n\n    ","\n"]);return _=function(){return n},n}function U(){var n=Object(j.a)(["\n    font-size: 1.2em;\n    font-weight: bold;\n    float: left;\n    margin: 5px;\n"]);return U=function(){return n},n}function B(){var n=Object(j.a)(["\n    font-size: 1.8em;\n    font-weight: bold;\n    margin: 5px;\n"]);return B=function(){return n},n}function Y(){var n=Object(j.a)(["\n    display: inline-block;\n    float: none;\n"]);return Y=function(){return n},n}function J(n){var e=Object(c.useContext)(E),t=Object(s.a)(e,3),o=t[0],i=t[1],a=t[2];return Object(r.jsxs)("div",{children:[0===o.length|0===o.filter((function(e){return e.symbol===n.symbol})).length?Object(r.jsx)(K,{onClick:function(){return i(n.stockdata)},children:"Follow"}):Object(r.jsx)(X,{onClick:function(){return a(n.stockdata)},children:"Unfollow"}),Object(r.jsx)(Q,{children:Object(r.jsx)(Z,{to:"/trade/"+n.symbol,children:"TRADE"})})]})}function H(n){var e=n.data,t=Object(c.useContext)(y)[0],o=Object(c.useContext)(y)[2],i=t(e.symbol),a=o(e.symbol);return Object(r.jsx)(f,{children:Object(r.jsxs)(q,{children:[i&&Object(r.jsxs)(V,{children:[i," "," ("+e.symbol+")"]}),Object(r.jsx)(J,{stockdata:e,symbol:e.symbol}),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{children:a.latestPrice}),Object(r.jsx)($,{children:Object(r.jsxs)(G,{up:a.change>=0,children:[(a.change>=0?"+":"")+Math.round(100*a.change)/100+" ",Math.round(1e4*a.changePercent)/100+"%"]})})," "]})]})})}var q=d.c.div(Y()),V=d.c.div(B()),$=d.c.div(U()),G=d.c.div(_(),(function(n){return!1===n.up&&Object(d.b)(W())})),K=d.c.button(M()),X=d.c.button(D()),Q=d.c.button(R()),Z=Object(d.c)(u.b)(A());function nn(){var n=Object(j.a)(["\n    text-decoration: none;\n    font-size: 1.5em;\n    font-weight: bolder;\n    font-family: Georgia, 'Times New Roman', Times, serif;\n    color: black;\n    &:hover{\n        color:blue\n    }\n"]);return nn=function(){return n},n}function en(){var n=Object(j.a)(["\n    margin: 0.5em 0;\n    font-style: italic;\n"]);return en=function(){return n},n}function tn(){var n=Object(j.a)(["\n    width: 35%;\n    @media (max-width: 768px){\n        width: 100%;\n        margin:auto;\n    }\n"]);return tn=function(){return n},n}function rn(){var n=Object(j.a)(["\n    width: 50%;\n    @media (max-width: 768px){\n        font-size: 1.2em;\n        width: 100%;\n        margin: 1em auto 0;\n    }\n\n"]);return rn=function(){return n},n}function cn(){var n=Object(j.a)(["\n    margin: auto;\n    width: 100%;\n    display: flex;\n    justify-content: space-evenly;\n    margin-top: 4em;\n    @media (max-width: 768px){\n        width: 80%;\n        flex-direction: column;\n    }\n    "]);return cn=function(){return n},n}function on(n){return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)(an,{className:"newsSection",children:[Object(r.jsx)(un,{children:Object(r.jsx)("img",{alt:n.symbol,src:n.news.image,width:"100%"})}),Object(r.jsxs)(sn,{className:"newsContent",children:[Object(r.jsx)(dn,{href:n.news.url,children:n.news.headline}),Object(r.jsxs)(ln,{children:[Object(r.jsxs)("div",{children:["By ",n.news.source]}),Object(r.jsx)("div",{children:new Date(n.news.datetime).toLocaleString()})]}),Object(r.jsx)("p",{children:n.news.summary})]})]})})}var an=d.c.div(cn()),sn=d.c.div(rn()),un=d.c.div(tn()),ln=d.c.div(en()),dn=d.c.a(nn());function jn(n){return Object(r.jsx)("div",{style:bn,children:n.data.map((function(e,t){return Object(r.jsx)(on,{symbol:n.symbol,news:e},t)}))})}var bn={margin:"4em auto",maxWidth:"1400px",minWidth:"768px"},fn=t(134),hn=t.n(fn);function xn(){var n=Object(j.a)(["\n    /* padding-top: 60px; */\n    margin: auto;\n"]);return xn=function(){return n},n}function On(){var n=Object(j.a)(["\n    margin: 4em auto 2em;\n    width: 100%;\n"]);return On=function(){return n},n}function mn(n){var e=Math.floor(Math.random()*n.videos.length);return Object(r.jsx)(pn,{className:"videoContainer",children:Object(r.jsx)(gn,{url:"http://www.youtube.com/watch?v=".concat(n.videos[e].videoId)})})}var pn=d.c.div(On()),gn=Object(d.c)(hn.a)(xn());function vn(){var n=Object(j.a)(["\n    grid-row: 2 / 3;\n    grid-column: 2 / 3;\n    @media (max-width: 768px){\n        grid-row: 3 / 4;\n        grid-column: 1 / 3;\n    }\n"]);return vn=function(){return n},n}function yn(){var n=Object(j.a)(["\n    grid-row: 2 / 3;\n    grid-column: 1 / 2;\n    @media (max-width: 768px){\n        grid-row: 2 / 3;\n        grid-column: 2 / 3;\n    }\n"]);return yn=function(){return n},n}function wn(){var n=Object(j.a)(["\n    grid-row: 1 / 2;\n    grid-column: 1 / 3;\n    @media (max-width: 768px){\n        margin-right:auto;\n        grid-row: 2 / 3;\n        grid-column: 1 / 2;\n    }\n"]);return wn=function(){return n},n}function kn(){var n=Object(j.a)(["\n    display: grid;\n    margin: 2em auto;\n    width: 84%;\n    grid-template-columns: 50% 50%;\n    grid-template-rows: auto auto;\n    @media (max-width: 768px){\n        grid-template-columns: 30% 70%;\n    }\n"]);return kn=function(){return n},n}function Cn(){var n=Object(j.a)(["\n    width: 100%;\n    display: block;\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(c.useState)(0),e=Object(s.a)(n,2),t=e[0],i=e[1],a=Object(l.f)().symbol;return Object(c.useEffect)((function(){fetch("https://stock-exchange-platform.herokuapp.com/stock/"+a,{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(n){return n.json()})).then((function(n){return i(n)})).catch((function(n){return console.log(n)}))}),[a]),Object(r.jsx)(Tn,{className:"detailedContainer",children:0!==t?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsxs)(Pn,{children:[Object(r.jsx)(Nn,{children:Object(r.jsx)(H,{data:t})}),Object(r.jsx)(Fn,{children:Object(r.jsx)(P,{data:t})}),Object(r.jsx)(In,{children:Object(r.jsx)(m,{symbol:a,chartdata:t.stockPrices})})]}),Object(r.jsx)(mn,{videos:t.videoLinkList}),Object(r.jsx)(jn,{symbol:a,data:t.newsList})]}):Object(r.jsx)(o.a.Fragment,{children:"Loading"})})}var Tn=d.c.div(Cn()),Pn=d.c.div(kn()),Nn=d.c.div(wn()),Fn=d.c.div(yn()),In=d.c.div(vn());function Ln(){var n=Object(j.a)(["\n    text-decoration: none;\n    font-weight:bold;\n    color: #21255e;\n    :hover {\n        text-decoration: underline\n    }\n    :visited {\n        color: #21255e;\n    }\n"]);return Ln=function(){return n},n}function En(){var n=Object(j.a)(["\n    width: 100px;\n    margin: 1em;\n    position: relative;\n    display: inline-block;\n    &:hover "," {\n        visibility: visible;\n        opacity: 1;\n    }\n\n"]);return En=function(){return n},n}function zn(){var n=Object(j.a)(["\n  visibility: hidden;\n  width: 120px;\n  background-color: #555;\n  color: #fff;\n  text-align: center;\n  padding: 5px 0;\n  border-radius: 6px;\n  position: absolute;\n  z-index: 1;\n  bottom: 110%;\n  left: 50%;\n  margin-left: -60px;\n  opacity: 0;\n  transition: opacity 0.3s;\n"]);return zn=function(){return n},n}function An(n){var e=n.symbol,t={color:e&&e.changePercent>=0?"green":"red"};return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)(Dn,{children:[Object(r.jsx)(Mn,{to:"/stock/"+e.symbol,children:e.symbol}),Object(r.jsx)("div",{children:e.latestPrice}),Object(r.jsx)("div",{style:t,children:Math.round(1e4*e.changePercent)/100+"%"}),Object(r.jsx)(Rn,{className:"tip",children:e.companyName})]})})}var Rn=d.c.span(zn()),Dn=d.c.div(En(),Rn),Mn=Object(d.c)(u.b)(Ln());function Wn(){var n=Object(j.a)(["\n    display: inline-flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    padding: 20px;\n\n"]);return Wn=function(){return n},n}function _n(){var n=Object(j.a)(["\n    margin: auto;\n    width: fit-content;\n"]);return _n=function(){return n},n}function Un(){var n=Object(j.a)(["\n    display: block;\n    width: 100%;\n    @media(max-width: 768px){\n        font-size: 1.4em;\n    }\n"]);return Un=function(){return n},n}function Bn(n){var e=Object(c.useContext)(y)[1];return Object(r.jsx)(Yn,{children:e&&Object(r.jsx)(Jn,{children:Object(r.jsx)(Hn,{children:e.map((function(n){return Object(r.jsx)(An,{symbol:n},e.indexOf(n))}))})})})}var Yn=d.c.div(Un()),Jn=d.c.div(_n()),Hn=d.c.div(Wn()),qn=t(135),Vn=(t(215),Object(c.createContext)()),$n=function(n){var e=Object(c.useState)({loggedIn:!1,userName:void 0}),t=Object(s.a)(e,2),o=t[0],i=t[1];return Object(c.useEffect)((function(){document.cookie&&(document.cookie.split("; ").find((function(n){return n.startsWith("access_token=")})).split("=")[1]&&i({loggedIn:!0,userName:void 0}))}),[]),Object(r.jsx)(Vn.Provider,{value:[o,i],children:n.children})};function Gn(){var n=Object(j.a)(["\n    display: inline-block;\n    vertical-align:middle;\n    line-height:60px;\n    font-family: source_sans_prosemibold, Helvetica, Arial, sans-serif;\n    text-align: center;\n    box-sizing: border-box; \n    text-decoration: none;\n    font-size: 1.2em;\n    font-weight: 500;\n    width: 140px;\n    color: #fff;\n    text-shadow: 0px 2px 3px rgba(0,0,0,0.4),\n                0px 6px 11px rgba(0,0,0,0.1),\n                0px 12px 21px rgba(0,0,0,0.1);\n\n    :hover {\n        color:#21255e;\n        background-color:#fff;\n        transition-duration: 0.4s;\n        transition-timing-function: ease;\n        text-shadow: 0px 2px 3px rgba(0,0,0,0.4),\n                0px 8px 13px rgba(0,0,0,0.1),\n                0px 18px 23px rgba(0,0,0,0.1);\n    }\n    @media(max-width: 768px){\n        height: 50px;\n    }\n"]);return Gn=function(){return n},n}function Kn(n){var e=Object(c.useContext)(Vn),t=Object(s.a)(e,2),i=t[0],a=t[1],u=function(){"burger"===n.menuType&&n.closeMenu()},l=function(n){document.cookie="".concat(n,"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT")};return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(Xn,{onClick:u,to:"/",children:"Home"}),Object(r.jsx)(Xn,{onClick:u,to:"/favourites",children:"Favourites"}),i.loggedIn?Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(Xn,{onClick:u,to:"/trade",children:"Trade"}),Object(r.jsx)(Xn,{onClick:u,to:"/portfolio",children:"Portfolio"}),Object(r.jsx)(Xn,{to:"/",onClick:function(){a({loggedIn:!1,username:void 0}),l("access_token"),u()},children:"Logout"})]}):Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(Xn,{onClick:u,to:"/register",children:"Register"}),Object(r.jsx)(Xn,{onClick:u,to:"/login",children:"Login"})]}),Object(r.jsx)(Xn,{onClick:u,to:"/about",children:"About"})]})}var Xn=Object(d.c)(u.b)(Gn());function Qn(){var n=Object(j.a)(["\n    height: 100%;\n    display: block;\n    @media(max-width: 768px){\n        display: none;\n    }\n"]);return Qn=function(){return n},n}function Zn(){var n=Object(j.a)(["\n    height: 60px;\n    width: 100%;\n    background-color:#21255e;\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\n"]);return Zn=function(){return n},n}function ne(n){var e=function(){var n=Object(c.useState)([0,0]),e=Object(s.a)(n,2),t=e[0],r=e[1];return Object(c.useLayoutEffect)((function(){function n(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}}),[]),t}(),t=Object(s.a)(e,2),o=t[0],i=(t[1],Object(c.useState)(!1)),a=Object(s.a)(i,2),u=a[0],l=a[1];return Object(r.jsx)(ee,{children:o>768?Object(r.jsx)(te,{className:"navbar",children:Object(r.jsx)(Kn,{menuType:"nav"})}):Object(r.jsx)(qn.slide,{onStateChange:function(n){return function(n){l(n.isOpen)}(n)},isOpen:u,className:"burger",children:Object(r.jsx)(Kn,{menuType:"burger",closeMenu:function(){return l(!1)}})})})}var ee=d.c.div(Zn()),te=d.c.div(Qn()),re=t.p+"static/media/modern-business-buildings.4963f08c.jpg";function ce(){var n=Object(j.a)(["\n    display: flex;\n    background-image: url(",");\n    background-size: cover;\n    background-repeat: no-repeat;\n    min-width: 768px;\n    height: 80vh;\n    width: 100vw;\n"]);return ce=function(){return n},n}function oe(){var n=Object(j.a)(["\n    color: #151728;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n\n    :hover {\n        color: #009cf0;\n    }\n  "]);return oe=function(){return n},n}function ie(){var n=Object(j.a)(["\n    display: block;\n    position: absolute;\n    background-color: rgba(255, 255, 255, 0.8);\n    min-width: max(30%, 400px);\n "]);return ie=function(){return n},n}function ae(){var n=Object(j.a)(["\n    position: relative;\n    display: inline-block;\n    @media (max-width: 768px){\n        left: 25%;\n    }\n"]);return ae=function(){return n},n}function se(){var n=Object(j.a)(["\n    width: 45px;\n    height: 41px;\n    border: 1px solid #21255e;\n    background: #21255e;\n    text-align: center;\n    color: #fff;\n    border-radius: 0 5px 5px 0;\n    cursor: pointer;\n    font-size: 25px;\n "]);return se=function(){return n},n}function ue(){var n=Object(j.a)(["\n    font-size: 23px;\n    width: 100%;\n    border: 3px solid #21255e;\n    border-right: none;\n    padding: 5px;\n    height: 25px;\n    border-radius: 5px 0 0 5px;\n    outline: none;\n    color: #151728;\n\n    :focus{\n        color: #21255e;\n    }\n"]);return ue=function(){return n},n}function le(){var n=Object(j.a)(["\n    position: relative;\n    display: flex;\n    width: max(30%, 400px);\n    @media (max-width: 768px){\n        left: 50%;\n        transform: translate(-50%, 0%);\n    }\n"]);return le=function(){return n},n}function de(){var n=Object(j.a)(["\n    position: absolute;\n    min-width: 768px;\n    top: 60%;\n    left: 50%;\n    transform: translate(-25%, -50%);\n    @media (max-width: 768px){\n        top: 85%;\n        left: 0%;\n        transform: none;\n    }\n    \n"]);return de=function(){return n},n}function je(){var n=Object(c.useContext)(y)[3],e=Object(c.useState)([]),t=Object(s.a)(e,2),o=t[0],i=t[1],a=function(n){return Object(r.jsx)(pe,{to:"/stock/".concat(n.symbol),children:n.symbol},n.symbol)};return Object(r.jsx)(ge,{children:Object(r.jsxs)(be,{children:[Object(r.jsxs)(fe,{children:[Object(r.jsx)(he,{type:"text",placeholder:"Which stock are you looking for?",onChange:function(e){return function(e){var t=e.target.value.toLowerCase();i(t?n.filter((function(n){return n.toLowerCase().includes(t)})).slice(0,10):[])}(e)}}),Object(r.jsx)(xe,{type:"submit",children:Object(r.jsx)("i",{className:"fa fa-search"})})]}),Object(r.jsx)(Oe,{children:Object(r.jsx)(me,{children:o&&o.map((function(n){return Object(r.jsx)(a,{symbol:n},n)}))})})]})})}var be=d.c.div(de()),fe=d.c.div(le()),he=d.c.input(ue()),xe=d.c.button(se()),Oe=d.c.div(ae()),me=d.c.div(ie()),pe=Object(d.c)(u.b)(oe()),ge=d.c.div(ce(),re);function ve(){var n=Object(j.a)(["\n    display: flex;\n    flex-direction:row;\n    justify-content: space-evenly;\n    width: 100%;\n    @media (max-width: 768px) {\n        flex-direction: column;\n    }\n"]);return ve=function(){return n},n}function ye(){var n=Object(j.a)(["\n    width: 25%;\n    @media (max-width: 768px) {\n        width: 75%;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        > p {\n            margin: 3px;\n        }\n    }\n"]);return ye=function(){return n},n}function we(){var n=Object(j.a)(["\n    color: white;\n    text-decoration: none;\n    & :visited{\n        color: white;\n        text-decoration: none\n    }\n"]);return we=function(){return n},n}function ke(){var n=Object(j.a)(["\n    background-color: #21255e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n    float: right;\n    margin: 5px;\n"]);return ke=function(){return n},n}function Ce(){var n=Object(j.a)(["\n    background-color: #47485e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n    float: right;\n    margin: 5px;\n"]);return Ce=function(){return n},n}function Se(){var n=Object(j.a)(["\n    color: ",";    \n"]);return Se=function(){return n},n}function Te(){var n=Object(j.a)(["\n    font-size: 2em;\n    font-weight: bold;\n    float:left;\n    text-decoration:none;\n    color: black;\n"]);return Te=function(){return n},n}function Pe(){var n=Object(j.a)(["\n    padding-left: 20px;\n    width: 100%\n"]);return Pe=function(){return n},n}function Ne(){var n=Object(j.a)(["\n    display:flex;\n    padding: 20px;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly\n"]);return Ne=function(){return n},n}function Fe(){var n=Object(j.a)(["\n    margin: 3em auto;\n    border: 1px solid #21255e;\n    box-shadow: 5px 10px 5px #21255e;\n    display: flex;\n    flex-direction: row;\n    @media (max-width: 768px) {\n        font-size: 1.2em;\n        width: 75%;\n        margin: 3em auto;\n    }\n"]);return Fe=function(){return n},n}function Ie(n){var e=Object(c.useContext)(E),t=Object(s.a)(e,4),i=t[0],a=(t[1],t[2]),u=t[3],l=Object(c.useContext)(y)[2],d=Object(c.useContext)(Vn),j=l(n.data.symbol),b=!!j&&j.changePercent>=0;return Object(r.jsx)(o.a.Fragment,{children:i.length>0&&Object(r.jsxs)(Le,{children:[Object(r.jsxs)(Ee,{children:[Object(r.jsx)("button",{onClick:function(){return u(n.data.symbol,-1)},children:Object(r.jsx)("i",{className:"fa fa-arrow-up"})}),Object(r.jsx)("button",{onClick:function(){return u(n.data.symbol,1)},children:Object(r.jsx)("i",{className:"fa fa-arrow-down"})})]}),Object(r.jsxs)(ze,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Ae,{to:"/stock/"+n.data.symbol,children:n.data.symbol}),b?Object(r.jsx)(Re,{up:b,className:"fa fa-caret-up fa-lg"}):Object(r.jsx)(Re,{up:b,className:"fa fa-caret-down fa-lg"}),Object(r.jsx)(De,{onClick:function(){return a(n.data)},children:"Unfollow"}),d.loggedIn&&Object(r.jsx)(Me,{children:Object(r.jsx)(We,{to:"/trade/"+n.data.symbol,children:"TRADE"})})]}),j&&Object(r.jsxs)(Ue,{children:[Object(r.jsxs)(_e,{children:[Object(r.jsx)("p",{children:"Latest price"}),Object(r.jsx)("p",{children:j.latestPrice})]}),Object(r.jsxs)(_e,{children:[Object(r.jsx)("p",{children:"Change (%)"}),Object(r.jsx)("p",{children:Math.round(1e4*j.changePercent)/100+"%"})]}),Object(r.jsxs)(_e,{children:[Object(r.jsx)("p",{children:"Previous close"}),Object(r.jsx)("p",{children:n.data.previousClose})]}),Object(r.jsxs)(_e,{children:[Object(r.jsx)("p",{children:"Average volume"}),Object(r.jsx)("p",{children:n.data.avgTotalVolume})]}),Object(r.jsxs)(_e,{children:[Object(r.jsx)("p",{children:"Market cap"}),Object(r.jsx)("p",{children:n.data.marketCap})]})]})]})]})})}var Le=d.c.div(Fe()),Ee=d.c.div(Ne()),ze=d.c.div(Pe()),Ae=Object(d.c)(u.b)(Te()),Re=d.c.i(Se(),(function(n){return n.up?"green":"darkred"})),De=d.c.button(Ce()),Me=d.c.button(ke()),We=Object(d.c)(u.b)(we()),_e=d.c.div(ye()),Ue=d.c.div(ve());function Be(){var n=Object(c.useContext)(E),e=Object(s.a)(n,1)[0];return Object(r.jsx)("div",{style:Ye,children:0===e.length?Object(r.jsx)("p",{style:Je,children:"No items added to the favourites yet"}):e.map((function(n){return Object(r.jsx)(Ie,{data:n},n.symbol)}))})}var Ye={maxWidth:"1000px",margin:"4em auto"},Je={margin:"4em auto",textAlign:"center"},He={light:{color:"white"},dark:{color:"grey"}},qe=(t(216),t(349)),Ve=t(94),$e=t(339),Ge=t(346),Ke=t(355),Xe=t(354),Qe=t(352),Ze=t(348),nt=t(340);function et(){var n=Object(j.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: -1em, auto;\n    > .item {\n        width: 80%;\n        margin: 1em auto;\n    }\n"]);return et=function(){return n},n}function tt(n){var e=n.symbol,t=n.symbolList,c=n.limitPrice,i=n.count,a=n.direction,u=n.handleChange,l=n.handleSubmit,d=n.selectSymbol,j=n.notAllValid,b=o.a.useState(e),f=Object(s.a)(b,2),h=f[0],x=f[1];return Object(r.jsxs)(rt,{autoComplete:"off",children:[Object(r.jsx)(Ze.a,{className:"item",options:t,value:h,onChange:function(n,e){x(e),d(e)},renderInput:function(n){return Object(r.jsx)(Qe.a,Object(Ve.a)(Object(Ve.a)({},n),{},{label:"Symbol",name:"symbol"}))}}),Object(r.jsxs)($e.a,{className:"item",children:[Object(r.jsx)(Xe.a,{children:"Action"}),Object(r.jsxs)(Ge.a,{label:"Action",name:"direction",value:a,onChange:u,children:[Object(r.jsx)(Ke.a,{value:"-",children:"-"}),Object(r.jsx)(Ke.a,{value:"BUY",children:"BUY"}),Object(r.jsx)(Ke.a,{value:"SELL",children:"SELL"})]})]}),Object(r.jsx)(Qe.a,{className:"item",label:"Stock Count",name:"count",type:"number",value:i,onChange:u,InputProps:{inputProps:{min:1,step:1}}}),Object(r.jsx)(Qe.a,{className:"item",label:"Limit Price",name:"price",type:"number",value:c,onChange:u,InputProps:{inputProps:{min:.01,step:.01}}}),Object(r.jsx)(nt.a,{disabled:j,onClick:l,color:"primary",variant:"contained",children:"Trade!"})]})}var rt=d.c.form(et()),ct=t(344),ot=t(342),it=t(343),at=t(341),st=t(351);function ut(n){var e=n.confirmClose,t=n.handleSubmit,c=n.confirmIsOpen,o=n.symbol,i=n.direction,a=n.count,s=n.limitPrice;return Object(r.jsx)("div",{children:Object(r.jsxs)(st.a,{open:c,onClose:e,children:[Object(r.jsx)(at.a,{id:"alert-dialog-title",children:"Do you want to place the following order?"}),Object(r.jsx)(ot.a,{children:Object(r.jsxs)(it.a,{id:"alert-dialog-description",children:[Object(r.jsxs)("span",{children:["Symbol: ",o]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{children:["Action: ",i]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{children:["Amount: ",a]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{children:["Limit Price: ",s," USD"]}),Object(r.jsx)("br",{})]})}),Object(r.jsxs)(ct.a,{children:[Object(r.jsx)(nt.a,{onClick:e,color:"primary",children:"Disagree"}),Object(r.jsx)(nt.a,{onClick:t,color:"primary",autoFocus:!0,children:"Agree"})]})]})})}var lt=t(95);function dt(){var n=Object(j.a)(["\n    padding: 2em;\n    background-color:white;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return dt=function(){return n},n}function jt(){var n=Object(j.a)(["\n    margin: auto auto;\n    width: 400px;\n"]);return jt=function(){return n},n}function bt(n){var e=Object(c.useContext)(Vn)[1],t=Object(c.useState)(!1),o=Object(s.a)(t,2),i=o[0],a=o[1],u=Object(c.useState)(!1),d=Object(s.a)(u,2),j=d[0],b=d[1],f=Object(c.useState)(""),h=Object(s.a)(f,2),x=h[0],O=h[1],m=Object(c.useRef)(),p=Object(c.useRef)(),g=Object(c.useState)(!0),v=Object(s.a)(g,2),y=v[0],w=v[1],k=Object(c.useState)(!0),C=Object(s.a)(k,2),S=C[0],T=C[1],P=Object(c.useState)(!1),N=Object(s.a)(P,2),F=N[0],I=N[1],L=Object(c.useState)(!0),E=Object(s.a)(L,2),z=E[0],A=E[1],R="Invalid username or password!",D=function(n){if(n.ok)return n;if(403===n.status)throw O(R),b(!0),Error(x);throw Error(n.statusText)},M=function(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.current.value)},W=function(){return 0!==p.current.value.length},_=function(){return 0===p.current.value.length||0===m.current.value.length},U=function(){return I(!0),w(M()),T(W()),M()&&W()};return Object(r.jsxs)(ft,{children:[i&&Object(r.jsx)(l.a,{to:"/portfolio"}),Object(r.jsx)(qe.a,{open:j,onClose:function(){return b(!1)},children:Object(r.jsx)(ht,{children:x})}),Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(Qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",inputRef:m,autoFocus:!0,autoComplete:"off",type:"email",error:!y,onChange:function(){A(_()),F&&w(M())},helperText:y?"":"Invalid email"}),Object(r.jsx)(Qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",inputRef:p,autoComplete:"off",error:!S,onChange:function(){A(_()),T(W())},helperText:S?"":"Invalid password input"})]}),Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(nt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",disabled:z,size:"large",onClick:function(){if(U()){var n={username:m.current.value,password:p.current.value};fetch("https://stock-exchange-platform.herokuapp.com/login",{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json;charset=utf-8"}}).then(D).then((function(n){return n.json()})).then((function(n){e({loggedIn:!0,username:n.username}),document.cookie="access_token=".concat(n.token),a(!0)})).catch((function(n){return console.log(n)}))}},children:"Login"}),Object(r.jsx)(lt.a,{align:"center",color:"primary",tabIndex:0,role:"button",children:"Forgot Password?"})]})]})}var ft=d.c.div(jt()),ht=d.c.div(dt());function xt(){var n=Object(j.a)(["\n    text-align: center;\n    color: #21255e\n"]);return xt=function(){return n},n}function Ot(){var n=Object(j.a)(["\n    padding: 2em;\n    background-color:white;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return Ot=function(){return n},n}function mt(){var n=Object(j.a)(["\n    display: block;\n    margin: 5em auto;\n    border: 2px solid #21255e;\n    box-shadow: 5px 10px 5px #21255e;\n    width: 450px;\n"]);return mt=function(){return n},n}function pt(n){var e=Object(c.useContext)(y)[3],t=Object(c.useContext)(Vn),i=Object(s.a)(t,2),a=i[0],u=i[1],d=Object(c.useState)(n.match.params.symbol?n.match.params.symbol:e[0]),j=Object(s.a)(d,2),b=j[0],f=j[1],h=Object(c.useState)(0),x=Object(s.a)(h,2),O=x[0],m=x[1],p=Object(c.useState)("-"),g=Object(s.a)(p,2),v=g[0],w=g[1],k=Object(c.useState)(1),C=Object(s.a)(k,2),S=C[0],T=C[1],P=Object(c.useState)(!1),N=Object(s.a)(P,2),F=N[0],I=N[1],L=Object(c.useState)(!1),E=Object(s.a)(L,2),z=E[0],A=E[1],R=Object(c.useState)(""),D=Object(s.a)(R,2),M=D[0],W=D[1],_=Object(c.useState)(!1),U=Object(s.a)(_,2),B=U[0],Y=U[1],J=Object(c.useState)(!0),H=Object(s.a)(J,2),q=H[0],V=H[1],$=function(){return Y(!1)};Object(c.useEffect)((function(){V(!e.includes(b)||S<=0||O<=0||"-"===v)}),[b,O,v,S]);var G=function(n){var e="Transaction failed.\n";switch(n){case"LIMIT_PRICE_MISMATCH":e+="Limit price does not match current stock price";break;case"INSUFFICIENT_FUND":e+="Balance not sufficient to execute transaction";break;case"INSUFFICIENT_STOCK":e+="Owned stock not sufficient to execute transaction";break;case"DATABASE_PROBLEM":e+="Transaction could not be finalized due to database problems";break;default:e+="Invalid data sent in request"}W(e)},K=function(n){if(n.ok)return n;throw 403===n.status?(I(!0),u({loggedIn:!1,userName:void 0})):400===n.status&&n.json().then((function(n){return X(W,n.message)})).catch((function(n){return X(W,"Transaction failed, no action (BUY/SELL) specified")})),Error(n.statusText)},X=function(n,e){$(),n(e),A(!0)};return Object(r.jsx)(o.a.Fragment,{children:a.loggedIn?Object(r.jsxs)(gt,{children:[!0===F?Object(r.jsx)(l.a,{to:"/portfolio"}):Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(yt,{children:"Place an order"}),Object(r.jsx)(tt,{symbol:b,symbolList:e,limitPrice:O,count:S,direction:v,notAllValid:q,selectSymbol:function(n){return f(n)},handleChange:function(n){var e=n.target.value;switch(n.target.name){case"price":m(e);break;case"direction":w(e);break;case"count":T(e)}},handleSubmit:function(){return Y(!0)}})]}),Object(r.jsx)(qe.a,{open:z,onClose:function(){return A(!1)},children:Object(r.jsx)(vt,{children:M})}),Object(r.jsx)(ut,{confirmClose:$,handleSubmit:function(){var n={symbol:b,limitPrice:O,direction:v,status:"PENDING",count:S};if(document.cookie){var e=document.cookie.split("; ").find((function(n){return n.startsWith("access_token=")})).split("=")[1];fetch("https://stock-exchange-platform.herokuapp.com/trade",{method:"post",body:JSON.stringify(n),headers:{Authorization:"Bearer "+e,"Content-Type":"application/json;charset=utf-8"}}).then(K).then((function(n){return n.json()})).then((function(n){"COMPLETED"===n?I(!0):X(G,n)})).catch((function(n){return console.log(n)}))}},confirmIsOpen:B,symbol:b,direction:v,count:S,limitPrice:O})]}):Object(r.jsx)(l.a,{to:"/login"})})}var gt=d.c.div(mt()),vt=d.c.div(Ot()),yt=d.c.h2(xt());function wt(){var n=Object(j.a)(["\n    text-align: center;\n    padding: 1em 1em;\n"]);return wt=function(){return n},n}function kt(n){var e=n.transaction;return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)(Ct,{children:e.transactionTime.slice(0,e.transactionTime.indexOf(".")).replace("T"," ")}),Object(r.jsx)(Ct,{children:e.stockChange<0?"SELL":"BUY"}),Object(r.jsx)(Ct,{children:Math.abs(e.stockChange)}),Object(r.jsx)(Ct,{children:e.stockPrice}),Object(r.jsx)(Ct,{children:-1*(e.stockPrice*e.stockChange).toFixed(2)}),Object(r.jsx)(Ct,{children:e.stockCountAfter}),Object(r.jsx)(Ct,{children:e.balanceAfter})]})})}var Ct=d.c.td(wt());function St(){var n=Object(j.a)(["\n    color: #21255e;\n    &:visited{\n        color: #21255e;\n    }\n"]);return St=function(){return n},n}function Tt(){var n=Object(j.a)(["\n    text-align: center;\n    padding: 1em 1em;\n    border-bottom: 1px solid black;\n    border-top: 1px solid black;\n    border-collapse: collapse;\n"]);return Tt=function(){return n},n}function Pt(){var n=Object(j.a)(["\n    font-size: 1.5em;\n    font-weight: bold;\n    text-align: center\n"]);return Pt=function(){return n},n}function Nt(){var n=Object(j.a)(["\n    width: 90%;\n    margin: 2em auto 0;\n    border-collapse: collapse;\n    padding: 0 3em;\n    &:last-child{\n        border-bottom: 2px solid black;\n    }\n\n"]);return Nt=function(){return n},n}function Ft(){var n=Object(j.a)(["\n    border-bottom: 2px solid black;\n    border-top: 2px solid black;\n\n"]);return Ft=function(){return n},n}function It(){var n=Object(j.a)(["\n    width: 80%;\n    overflow: auto;\n    max-height: 50vh;\n    padding: 2em;\n    background-color:white;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return It=function(){return n},n}var Lt=History=o.a.forwardRef((function(n,e){return Object(r.jsxs)(zt,{children:[Object(r.jsxs)(Dt,{children:["Transaction history for stock: ",Object(r.jsx)(Wt,{to:"/stock/"+n.symbol,children:n.symbol})]}),Object(r.jsxs)(Rt,{children:[Object(r.jsx)(At,{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)(Mt,{children:"Date"}),Object(r.jsx)(Mt,{children:"Action"}),Object(r.jsx)(Mt,{children:"Amount"}),Object(r.jsx)(Mt,{children:"Stock Price"}),Object(r.jsxs)(Mt,{children:["Balance change (",n.currency,")"]}),Object(r.jsx)(Mt,{children:"Stock Count After"}),Object(r.jsxs)(Mt,{children:["Balance After (",n.currency,")"]})]})}),Object(r.jsx)("tbody",{children:n.transactions&&n.transactions.sort(Et).map((function(n){return Object(r.jsx)(kt,{transaction:n},n.id)}))})]})]})})),Et=function(n,e){return Date.parse(n.transactionTime)>Date.parse(e.transactionTime)?-1:1},zt=d.c.div(It()),At=d.c.thead(Ft()),Rt=d.c.table(Nt()),Dt=d.c.div(Pt()),Mt=d.c.th(Tt()),Wt=Object(d.c)(u.b)(St());function _t(){var n=Object(j.a)(["\n    color: white;\n    text-decoration: none;\n    & :visited{\n        color: white;\n        text-decoration: none\n    }\n"]);return _t=function(){return n},n}function Ut(){var n=Object(j.a)(["\n    display: flex;\n    flex-direction:row;\n    justify-content: space-evenly;\n    width: 100%;\n    @media (max-width: 768px) {\n        flex-direction: column;\n    }\n"]);return Ut=function(){return n},n}function Bt(){var n=Object(j.a)(["\n    text-align:center;\n    width: 25%;\n    @media (max-width: 768px) {\n        width: 85%;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        > p {\n            margin: 3px;\n        }\n    }\n"]);return Bt=function(){return n},n}function Yt(){var n=Object(j.a)(["\n    background-color: #21255e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n    float: right;\n    margin: 5px;\n"]);return Yt=function(){return n},n}function Jt(){var n=Object(j.a)(["\n    font-size: 2em;\n    font-weight: bold;\n    float:left;\n    text-decoration:none;\n    color: black;\n"]);return Jt=function(){return n},n}function Ht(){var n=Object(j.a)(["\n    padding-left: 20px;\n    width: 100%\n"]);return Ht=function(){return n},n}function qt(){var n=Object(j.a)(["\n    margin: 3em auto;\n    border: 1px solid #21255e;\n    box-shadow: 5px 10px 5px #21255e;\n    display: flex;\n    flex-direction: row;\n    @media (max-width: 768px) {\n        font-size: 1.3em;\n        width: 100%;\n        margin: 3em auto;\n    }\n"]);return qt=function(){return n},n}function Vt(n){var e="/trade/"+n.item.symbol,t=(0,Object(c.useContext)(y)[2])(n.item.symbol),i=Object(c.useState)(!1),a=Object(s.a)(i,2),u=a[0],l=a[1],d=o.a.useMemo((function(){var e=n.transactions.map((function(n){return Date.parse(n.transactionTime)}));return new Date(e.reduce((function(n,e){return Math.max(n,e)}))).toISOString()}),[n.transactions]),j=Object(c.createRef)();return Object(r.jsx)($t,{children:t&&Object(r.jsxs)(Gt,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Kt,{to:"/stock/"+n.item.symbol,children:n.item.symbol}),Object(r.jsx)(Xt,{children:Object(r.jsx)(nr,{to:e,children:"TRADE"})}),Object(r.jsx)(Xt,{onClick:function(){return l(!0)},children:"History"})]}),Object(r.jsxs)(Zt,{children:[Object(r.jsxs)(Qt,{children:[Object(r.jsx)("p",{children:"Last Transaction"}),d&&d.replace("T"," ").substring(0,d.indexOf("."))]}),Object(r.jsxs)(Qt,{children:[Object(r.jsx)("p",{children:"Total Owned"}),Object(r.jsx)("p",{children:n.item.amount})]}),Object(r.jsxs)(Qt,{children:[Object(r.jsx)("p",{children:"Total Value"}),Object(r.jsx)("p",{children:(n.item.amount*t.latestPrice).toFixed(2)})]}),Object(r.jsxs)(Qt,{children:[Object(r.jsx)("p",{children:"Latest Price"}),Object(r.jsx)("p",{children:t.latestPrice})]})]}),Object(r.jsx)(qe.a,{open:u,onClose:function(){return l(!1)},children:Object(r.jsx)(Lt,{ref:j,transactions:n.transactions,currency:n.currency,symbol:n.item.symbol})})]})})}var $t=d.c.div(qt()),Gt=d.c.div(Ht()),Kt=Object(d.c)(u.b)(Jt()),Xt=d.c.button(Yt()),Qt=d.c.div(Bt()),Zt=d.c.div(Ut()),nr=Object(d.c)(u.b)(_t());function er(){var n=Object(j.a)(["\n    margin: 2em 0;\n    @media (max-width: 768px){\n        font-size: 1.3em;\n        margin-right: auto;\n    }\n"]);return er=function(){return n},n}function tr(){var n=Object(j.a)(["\n"]);return tr=function(){return n},n}function rr(){var n=Object(j.a)(["\n    border-bottom: 1px solid #ddd;\n    padding: 10px;\n    text-align: right;\n"]);return rr=function(){return n},n}function cr(){var n=Object(j.a)(["\n    border-bottom: 1px solid #ddd;\n    padding: 10px 10px 10px 0;\n    text-align: left;\n"]);return cr=function(){return n},n}function or(n){var e=Object(c.useContext)(y)[1],t=n.user.account.balance,o=0;return 0!==e.length&&(o=n.user.portfolio.map((function(n){return n.amount*function(n){var t=e.filter((function(e){return e.symbol===n}));return Object(s.a)(t,1)[0].latestPrice}(n.symbol)})).reduce((function(n,e){return n+e}),0)),Object(r.jsx)(ur,{children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)(sr,{children:[Object(r.jsx)(ir,{children:"Name: "}),Object(r.jsxs)(ar,{children:[n.user.firstName," ",n.user.lastName]})]}),Object(r.jsxs)(sr,{children:[Object(r.jsx)(ir,{children:"Balance: "}),Object(r.jsxs)(ar,{children:[t.toFixed(2)," ",n.user.account.currency]})]}),Object(r.jsxs)(sr,{children:[Object(r.jsx)(ir,{children:"Stock: "}),Object(r.jsxs)(ar,{children:[o.toFixed(2)," USD"]})]}),Object(r.jsxs)(sr,{children:[Object(r.jsx)(ir,{children:"Total worth: "}),Object(r.jsxs)(ar,{children:[(o+t).toFixed(2)," USD"]})]})]})})}var ir=d.c.td(cr()),ar=d.c.td(rr()),sr=d.c.tr(tr()),ur=d.c.table(er());function lr(){var n=Object(j.a)(["\n    margin: auto;\n    width: 60%;\n    text-align: left;\n    @media (max-width: 768px) {\n        width: 80%;\n    }\n"]);return lr=function(){return n},n}function dr(){var n=Object(c.useContext)(Vn),e=Object(s.a)(n,2),t=e[0],i=e[1],a=Object(c.useState)(!1),u=Object(s.a)(a,2),d=u[0],j=u[1],b=Object(c.useState)(0),f=Object(s.a)(b,2),h=f[0],x=f[1],O=Object(c.useState)([]),m=Object(s.a)(O,2),p=m[0],g=m[1],v=Object(c.useState)([]),y=Object(s.a)(v,2),w=y[0],k=y[1];Object(c.useEffect)((function(){if(document.cookie){var n=document.cookie.split("; ").find((function(n){return n.startsWith("access_token=")})).split("=")[1];fetch("https://stock-exchange-platform.herokuapp.com/user",{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json;charset=utf-8"}}).then(C).then((function(n){return n.json()})).then((function(n){x(n),g(n.portfolio.filter((function(n){return n.amount>0}))),k(n.portfolio.filter((function(n){return 0===n.amount})))})).catch((function(n){return console.log(n)}))}}),[]);var C=function(n){if(n.ok)return n;throw 403===n.status&&(j(!0),i({loggedIn:!1,userName:void 0})),Error(n.statusText)};return Object(r.jsxs)(c.Fragment,{children:[d&&Object(r.jsx)(l.a,{to:"/login"}),t.loggedIn&&Object(r.jsx)(jr,{children:0!==h?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("h2",{children:"Account overview"}),Object(r.jsx)(or,{user:h}),p.length>=1?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("h2",{children:"Currently on portfolio"}),p.map((function(n){return Object(r.jsx)(Vt,{item:n,currency:h.account.currency,transactions:h.userHistoryList.filter((function(e){return e.symbol===n.symbol}))},n.id)}))]}):Object(r.jsx)(o.a.Fragment,{}),w.length>=1?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("h2",{children:"Previously on portfolio"}),w.map((function(n){return Object(r.jsx)(Vt,{item:n,currency:h.account.currency,transactions:h.userHistoryList.filter((function(e){return e.symbol===n.symbol}))},n.id)}))]}):Object(r.jsx)(o.a.Fragment,{})]}):"Loading"})]})}var jr=d.c.div(lr()),br=t(345),fr=t(350);function hr(){var n=Object(j.a)(["\n    padding: 2em;\n    background-color:white;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return hr=function(){return n},n}function xr(){var n=Object(j.a)(["\n    margin: auto auto;\n    width: 400px;\n"]);return xr=function(){return n},n}function Or(){var n=Object(c.useState)(!0),e=Object(s.a)(n,2),t=e[0],o=e[1],i=Object(c.useState)(!1),a=Object(s.a)(i,2),u=a[0],d=a[1],j=Object(c.useState)(!1),b=Object(s.a)(j,2),f=b[0],h=b[1],x=Object(c.useState)(""),O=Object(s.a)(x,2),m=O[0],p=O[1],g=function(){return d(!0)},v=Object(c.useRef)(),y=Object(c.useRef)(),w=Object(c.useRef)(),k=Object(c.useRef)(),C=Object(c.useRef)(),S=Object(c.useRef)(),T=Object(c.useState)(!0),P=Object(s.a)(T,2),N=P[0],F=P[1],I=Object(c.useState)(!0),L=Object(s.a)(I,2),E=L[0],z=L[1],A=Object(c.useState)(!0),R=Object(s.a)(A,2),D=R[0],M=R[1],W=Object(c.useState)(!0),_=Object(s.a)(W,2),U=_[0],B=_[1],Y=Object(c.useState)(!1),J=Object(s.a)(Y,2),H=J[0],q=J[1],V=Object(c.useState)(!1),$=Object(s.a)(V,2),G=$[0],K=$[1],X="Server could not complete the registration! Please try again later!",Q="Username already taken!",Z=function(n){if(n.ok)return n;if(409===n.status)throw p(Q),g(),Error(m);throw Error(n.statusText)},nn=function(){var n=w.current.value;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)},en=function(n){return 0!==n.length},tn=function(){var n=k.current.value,e=C.current.value;return!!en(n)&&n===e},rn=function(){var n=en(v.current.value),e=en(y.current.value),t=nn(),r=tn();return z(n),M(e),F(t),B(r),n&&e&&t&&r};return Object(r.jsxs)(mr,{children:[!0===f?Object(r.jsx)(l.a,{to:"/login"}):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)(qe.a,{open:u,onClose:function(){return d(!1)},children:Object(r.jsx)(pr,{children:m})}),Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(Qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"First Name",autoFocus:!0,inputRef:v,autoComplete:"off",error:!E,onChange:function(){return z(en(v.current.value))},helperText:E?"":"Invalid first name"}),Object(r.jsx)(Qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Last Name",autoFocus:!0,inputRef:y,autoComplete:"off",error:!D,onChange:function(){return M(en(y.current.value))},helperText:D?"":"Invalid last name"}),Object(r.jsx)(Qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",autoFocus:!0,inputRef:w,autoComplete:"off",type:"email",error:!N,onChange:function(){G&&F(nn())},helperText:N?"":"Invalid email"}),Object(r.jsx)(Qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",inputRef:k,autoComplete:"off",error:!U,onChange:function(){H&&B(tn())},helperText:U?"":"Invalid password input"}),Object(r.jsx)(Qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Repeat Password",type:"password",inputRef:C,autoComplete:"off",error:!U,onChange:function(){H&&B(tn())},helperText:U?"":"Invalid password input"}),Object(r.jsx)(br.a,{style:{marginRight:0},control:Object(r.jsx)(fr.a,{color:"primary",inputRef:S,onChange:function(n){o(!n.target.checked)}}),label:Object(r.jsxs)(lt.a,{variant:"body1",children:["I agree to the",Object(r.jsxs)("span",{tabIndex:0,role:"button",children:[" ","terms of service"]})]})})]}),Object(r.jsx)(nt.a,{type:"submit",fullWidth:!0,variant:"contained",size:"large",color:"secondary",onClick:function(){if(q(!0),K(!0),rn()){var n={firstName:v.current.value,lastName:y.current.value,username:w.current.value,password:k.current.value};fetch("https://stock-exchange-platform.herokuapp.com/register",{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json;charset=utf-8"}}).then(Z).then((function(n){return n.json()})).then((function(n){!0===n.success?h(!0):(p(X),g())})).catch((function(n){return console.log(n)}))}},disabled:t,children:"Register"})]})}var mr=d.c.div(xr()),pr=d.c.div(hr()),gr=t(140),vr=t.n(gr);function yr(){var n=Object(j.a)(["\n    width: min(80%, 900px);\n    margin: 4em auto;\n    line-height: 1.5em;\n"]);return yr=function(){return n},n}function wr(){var n=Object(c.useState)(""),e=Object(s.a)(n,2),t=e[0],o=e[1];return Object(c.useEffect)((function(){fetch("https://stock-exchange-platform.herokuapp.com/about/en").then((function(n){return n.json()})).then((function(n){return o(n.details)}))}),[t]),Object(r.jsx)(kr,{children:t})}var kr=Object(d.c)(vr.a)(yr());var Cr=function(){var n=Object(c.useState)("light"),e=Object(s.a)(n,2),t=e[0],o=e[1];return Object(r.jsx)(d.a,{theme:He[t],children:Object(r.jsx)($n,{children:Object(r.jsx)(z,{children:Object(r.jsx)(w,{children:Object(r.jsx)(u.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(ne,{currentTheme:t,setTheme:o}),Object(r.jsx)(Bn,{}),Object(r.jsx)(l.b,{path:"/favourites",component:Be}),Object(r.jsx)(l.b,{exact:!0,path:"/",component:je}),Object(r.jsx)(l.b,{path:"/stock/:symbol",component:Sn}),Object(r.jsx)(l.b,{path:"/trade/:symbol?",component:pt}),Object(r.jsx)(l.b,{path:"/portfolio",component:dr}),Object(r.jsx)(l.b,{path:"/register",component:Or}),Object(r.jsx)(l.b,{path:"/login",component:bt}),Object(r.jsx)(l.b,{path:"/about",component:wr})]})})})})})})};t(290).config(),a.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Cr,{})}),document.getElementById("root"))}},[[293,1,2]]]);
//# sourceMappingURL=main.98846c0d.chunk.js.map