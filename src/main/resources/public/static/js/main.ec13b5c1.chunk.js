(this.webpackJsonpstock_exchange_platform=this.webpackJsonpstock_exchange_platform||[]).push([[0],{157:function(n,t,e){},215:function(n,t,e){},216:function(n,t,e){},293:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(0),o=e.n(c),i=e(14),a=e.n(i),s=(e(157),e(7)),u=e(15),l=e(16),d=e(4),j=e(5);function b(){var n=Object(j.a)(["\n    display: flex;\n    box-sizing: border-box;\n    height: 100%;\n    padding: 20px;\n    border-radius: 2px;\n    background: #fff;\n    border-bottom: 5px solid #cfcfcf;\n"]);return b=function(){return n},n}function f(n){return Object(r.jsx)(h,{children:n.children})}var h=d.c.div(b()),x=e(77),O=e(92);function m(n){var t=n.symbol,e=n.chartdata.map((function(n){return{x:new Date(n.date),y:n.price}})),c=e?Math.floor(Math.min.apply(Math,Object(x.a)(e.map((function(n){return n.y}))))/2):0,o={animationEnabled:!0,theme:"light2",height:400,title:{text:"Stock Price of ".concat(t),fontSize:22,horizontalAlign:"center"},axisX:{valueFormatString:"YYYY.MM.DD",crosshair:{enabled:!0,snapToDataPoint:!0}},axisY:{title:"Closing Price (USD)",valueFormatString:"$##0.00",minimum:c,crosshair:{enabled:!0,snapToDataPoint:!0,labelFormatter:function(n){return"$"+O.a.formatNumber(n.value,"##0.00")}}},data:[{type:"area",xValueFormatString:"YYYY.MM.DD",yValueFormatString:"$##0.00",dataPoints:e.sort((function(n,t){return n.x-t.x}))}]};return Object(r.jsx)(f,{children:Object(r.jsx)(O.b,{options:o})})}var p=e(347),g=e(133),v=e.n(g),y=Object(c.createContext)(),w=function(n){var t=Object(c.useState)([]),e=Object(s.a)(t,2),o=e[0],i=e[1],a=Object(c.useState)([]),u=Object(s.a)(a,2),l=u[0],d=u[1],j=Object(c.useState)(),b=Object(s.a)(j,2),f=(b[0],b[1]),h="/stock/all",x="/stock/data";function O(n){var t=n.headers.destination,e=JSON.parse(n.body);t===h&&d(e),t===x&&d((function(n){return n.map((function(n){return n.symbol===e.symbol?e:n}))}))}return Object(c.useEffect)((function(){v.a.get("https://stock-exchange-platform.herokuapp.com/stock-base-data/list").then((function(n){return i(n.data)}))}),[]),Object(c.useEffect)((function(){var n=new p.a;return n.brokerURL="wss://stock-exchange-platform.herokuapp.com/socket",n.onConnect=function(t){n.subscribe(h,O),n.subscribe(x,O)},n.activate(),f(n),function(){return n.deactivate()}}),[]),Object(r.jsx)(y.Provider,{value:[function(n){var t=o.filter((function(t){return t.symbol===n})),e=Object(s.a)(t,1)[0];return e&&e.companyName},l,function(n){var t=l.filter((function(t){return t.symbol===n}));return Object(s.a)(t,1)[0]},o.map((function(n){return n.symbol}))],children:n.children})};function k(){var n=Object(j.a)(["\n    @media (max-width: 768px){\n        font-size: 1.2em;\n        margin-left: auto;\n    }\n"]);return k=function(){return n},n}function C(){var n=Object(j.a)(["\n\n"]);return C=function(){return n},n}function S(){var n=Object(j.a)(["\n    border-bottom: 1px solid #ddd;\n    text-align: right;\n"]);return S=function(){return n},n}function T(){var n=Object(j.a)(["\n    border-bottom: 1px solid #ddd;\n    padding: 10px;\n    text-align: left;\n"]);return T=function(){return n},n}function N(n){var t=Object(c.useContext)(y)[2],e=n.data,o=t(e.symbol),i=new Date(e.lastTradeTime),a=(new Intl.NumberFormat).format(e.marketCap),s=(new Intl.NumberFormat).format(e.avgTotalVolume);return Object(r.jsx)(f,{children:Object(r.jsx)(L,{children:Object(r.jsxs)("tbody",{children:[o&&Object(r.jsxs)(I,{children:[Object(r.jsx)(P,{children:"Current price"}),Object(r.jsx)(F,{children:o.latestPrice})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(P,{children:"Previous close"}),Object(r.jsx)(F,{children:e.previousClose})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(P,{children:"Market cap"}),Object(r.jsx)(F,{children:a})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(P,{children:"52 Week range"}),Object(r.jsx)(F,{children:e.week52Low+" - "+e.week52High})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(P,{children:"Average volume"}),Object(r.jsx)(F,{children:s})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(P,{children:"P/E ratio"}),Object(r.jsx)(F,{children:e.peRatio})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(P,{children:"Year-to-Date change"}),Object(r.jsx)(F,{children:Math.round(1e4*e.ytdChange)/100+"%"})]}),Object(r.jsxs)(I,{children:[Object(r.jsx)(P,{children:"Last trade time"}),Object(r.jsx)(F,{children:i.toLocaleDateString()+" "+i.toLocaleTimeString()})]})]})})})}var P=d.c.td(T()),F=d.c.td(S()),I=d.c.tr(C()),L=d.c.table(k()),E=Object(c.createContext)(),z=function(n){var t=Object(c.useState)(localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):[]),e=Object(s.a)(t,2),o=e[0],i=e[1];return Object(r.jsx)(E.Provider,{value:[o,function(n){i((function(t){var e=[].concat(Object(x.a)(t),[n]);return localStorage.setItem("favourites",JSON.stringify(e)),e}))},function(n){var t=o.filter((function(t){return t.symbol!==n.symbol}));i(t),localStorage.setItem("favourites",JSON.stringify(t))},function(n,t){var e,r=o.filter((function(t){return t.symbol===n}))[0],c=o.indexOf(r);e=c+t===o.length?0:c+t<0?o.length-1:c+t;var a=o.filter((function(t){return t.symbol!==n}));a.splice(e,0,r),i(a),localStorage.setItem("favourites",JSON.stringify(a))}],children:n.children})};function A(){var n=Object(j.a)(["\n    color: white;\n    text-decoration: none;\n    & :visited{\n        color: white;\n        text-decoration: none\n    }\n"]);return A=function(){return n},n}function R(){var n=Object(j.a)(["\n    background-color: #21255e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n    margin: 5px;\n"]);return R=function(){return n},n}function D(){var n=Object(j.a)(["\n    background-color: #47485e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n"]);return D=function(){return n},n}function M(){var n=Object(j.a)(["\n    background-color: #21255e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n"]);return M=function(){return n},n}function W(){var n=Object(j.a)(["\n        color: red;\n    "]);return W=function(){return n},n}function _(){var n=Object(j.a)(["\n    padding-top: 0.2em;\n    font-size: 0.8em;\n    color: green;\n    vertical-align: bottom;\n\n    ","\n"]);return _=function(){return n},n}function U(){var n=Object(j.a)(["\n    font-size: 1.2em;\n    font-weight: bold;\n    float: left;\n    margin: 5px;\n"]);return U=function(){return n},n}function B(){var n=Object(j.a)(["\n    font-size: 1.8em;\n    font-weight: bold;\n    margin: 5px;\n"]);return B=function(){return n},n}function Y(){var n=Object(j.a)(["\n    display: inline-block;\n    float: none;\n"]);return Y=function(){return n},n}function J(n){var t=Object(c.useContext)(E),e=Object(s.a)(t,3),o=e[0],i=e[1],a=e[2];return Object(r.jsxs)("div",{children:[0===o.length|0===o.filter((function(t){return t.symbol===n.symbol})).length?Object(r.jsx)(K,{onClick:function(){return i(n.stockdata)},children:"Follow"}):Object(r.jsx)(X,{onClick:function(){return a(n.stockdata)},children:"Unfollow"}),Object(r.jsx)(Q,{children:Object(r.jsx)(Z,{to:"/trade/"+n.symbol,children:"TRADE"})})]})}function H(n){var t=n.data,e=Object(c.useContext)(y)[0],o=Object(c.useContext)(y)[2],i=e(t.symbol),a=o(t.symbol);return Object(r.jsx)(f,{children:Object(r.jsxs)(q,{children:[i&&Object(r.jsxs)(V,{children:[i," "," ("+t.symbol+")"]}),Object(r.jsx)(J,{stockdata:t,symbol:t.symbol}),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{children:a.latestPrice}),Object(r.jsx)($,{children:Object(r.jsxs)(G,{up:a.change>=0,children:[(a.change>=0?"+":"")+Math.round(100*a.change)/100+" ",Math.round(1e4*a.changePercent)/100+"%"]})})," "]})]})})}var q=d.c.div(Y()),V=d.c.div(B()),$=d.c.div(U()),G=d.c.div(_(),(function(n){return!1===n.up&&Object(d.b)(W())})),K=d.c.button(M()),X=d.c.button(D()),Q=d.c.button(R()),Z=Object(d.c)(u.b)(A());function nn(){var n=Object(j.a)(["\n    text-decoration: none;\n    font-size: 1.5em;\n    font-weight: bolder;\n    font-family: Georgia, 'Times New Roman', Times, serif;\n    color: black;\n    &:hover{\n        color:blue\n    }\n"]);return nn=function(){return n},n}function tn(){var n=Object(j.a)(["\n    margin: 0.5em 0;\n    font-style: italic;\n"]);return tn=function(){return n},n}function en(){var n=Object(j.a)(["\n    width: 35%;\n    @media (max-width: 768px){\n        width: 100%;\n        margin:auto;\n    }\n"]);return en=function(){return n},n}function rn(){var n=Object(j.a)(["\n    width: 50%;\n    @media (max-width: 768px){\n        font-size: 1.2em;\n        width: 100%;\n        margin: 1em auto 0;\n    }\n\n"]);return rn=function(){return n},n}function cn(){var n=Object(j.a)(["\n    margin: auto;\n    width: 100%;\n    display: flex;\n    justify-content: space-evenly;\n    margin-top: 4em;\n    @media (max-width: 768px){\n        width: 80%;\n        flex-direction: column;\n    }\n    "]);return cn=function(){return n},n}function on(n){return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)(an,{className:"newsSection",children:[Object(r.jsx)(un,{children:Object(r.jsx)("img",{alt:n.symbol,src:n.news.image,width:"100%"})}),Object(r.jsxs)(sn,{className:"newsContent",children:[Object(r.jsx)(dn,{href:n.news.url,children:n.news.headline}),Object(r.jsxs)(ln,{children:[Object(r.jsxs)("div",{children:["By ",n.news.source]}),Object(r.jsx)("div",{children:new Date(n.news.datetime).toLocaleString()})]}),Object(r.jsx)("p",{children:n.news.summary})]})]})})}var an=d.c.div(cn()),sn=d.c.div(rn()),un=d.c.div(en()),ln=d.c.div(tn()),dn=d.c.a(nn());function jn(n){return Object(r.jsx)("div",{style:bn,children:n.data.map((function(t,e){return Object(r.jsx)(on,{symbol:n.symbol,news:t},e)}))})}var bn={margin:"4em auto",maxWidth:"1400px",minWidth:"768px"},fn=e(134),hn=e.n(fn);function xn(){var n=Object(j.a)(["\n    /* padding-top: 60px; */\n    margin: auto;\n"]);return xn=function(){return n},n}function On(){var n=Object(j.a)(["\n    margin: 4em auto 2em;\n    width: 100%;\n"]);return On=function(){return n},n}function mn(n){var t=Math.floor(Math.random()*n.videos.length);return Object(r.jsx)(pn,{className:"videoContainer",children:Object(r.jsx)(gn,{url:"http://www.youtube.com/watch?v=".concat(n.videos[t].videoId)})})}var pn=d.c.div(On()),gn=Object(d.c)(hn.a)(xn());function vn(){var n=Object(j.a)(["\n    grid-row: 2 / 3;\n    grid-column: 2 / 3;\n    @media (max-width: 768px){\n        grid-row: 3 / 4;\n        grid-column: 1 / 3;\n    }\n"]);return vn=function(){return n},n}function yn(){var n=Object(j.a)(["\n    grid-row: 2 / 3;\n    grid-column: 1 / 2;\n    @media (max-width: 768px){\n        grid-row: 2 / 3;\n        grid-column: 2 / 3;\n    }\n"]);return yn=function(){return n},n}function wn(){var n=Object(j.a)(["\n    grid-row: 1 / 2;\n    grid-column: 1 / 3;\n    @media (max-width: 768px){\n        margin-right:auto;\n        grid-row: 2 / 3;\n        grid-column: 1 / 2;\n    }\n"]);return wn=function(){return n},n}function kn(){var n=Object(j.a)(["\n    display: grid;\n    margin: 2em auto;\n    width: 84%;\n    grid-template-columns: 50% 50%;\n    grid-template-rows: auto auto;\n    @media (max-width: 768px){\n        grid-template-columns: 30% 70%;\n    }\n"]);return kn=function(){return n},n}function Cn(){var n=Object(j.a)(["\n    width: 100%;\n    display: block;\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(c.useState)(0),t=Object(s.a)(n,2),e=t[0],i=t[1],a=Object(l.f)().symbol;return Object(c.useEffect)((function(){fetch("https://stock-exchange-platform.herokuapp.com/stock/"+a,{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(n){return n.json()})).then((function(n){return i(n)})).catch((function(n){return console.log(n)}))}),[a]),Object(r.jsx)(Tn,{className:"detailedContainer",children:0!==e?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsxs)(Nn,{children:[Object(r.jsx)(Pn,{children:Object(r.jsx)(H,{data:e})}),Object(r.jsx)(Fn,{children:Object(r.jsx)(N,{data:e})}),Object(r.jsx)(In,{children:Object(r.jsx)(m,{symbol:a,chartdata:e.stockPrices})})]}),Object(r.jsx)(mn,{videos:e.videoLinkList}),Object(r.jsx)(jn,{symbol:a,data:e.newsList})]}):Object(r.jsx)(o.a.Fragment,{children:"Loading"})})}var Tn=d.c.div(Cn()),Nn=d.c.div(kn()),Pn=d.c.div(wn()),Fn=d.c.div(yn()),In=d.c.div(vn());function Ln(){var n=Object(j.a)(["\n    text-decoration: none;\n    font-weight:bold;\n    color: #21255e;\n    :hover {\n        text-decoration: underline\n    }\n    :visited {\n        color: #21255e;\n    }\n"]);return Ln=function(){return n},n}function En(){var n=Object(j.a)(["\n    width: 100px;\n    margin: 1em;\n    position: relative;\n    display: inline-block;\n    &:hover "," {\n        visibility: visible;\n        opacity: 1;\n    }\n\n"]);return En=function(){return n},n}function zn(){var n=Object(j.a)(["\n  visibility: hidden;\n  width: 120px;\n  background-color: #555;\n  color: #fff;\n  text-align: center;\n  padding: 5px 0;\n  border-radius: 6px;\n  position: absolute;\n  z-index: 1;\n  bottom: 110%;\n  left: 50%;\n  margin-left: -60px;\n  opacity: 0;\n  transition: opacity 0.3s;\n"]);return zn=function(){return n},n}function An(n){var t=n.symbol,e={color:t&&t.changePercent>=0?"green":"red"};return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)(Dn,{children:[Object(r.jsx)(Mn,{to:"/stock/"+t.symbol,children:t.symbol}),Object(r.jsx)("div",{children:t.latestPrice}),Object(r.jsx)("div",{style:e,children:Math.round(1e4*t.changePercent)/100+"%"}),Object(r.jsx)(Rn,{className:"tip",children:t.companyName})]})})}var Rn=d.c.span(zn()),Dn=d.c.div(En(),Rn),Mn=Object(d.c)(u.b)(Ln());function Wn(){var n=Object(j.a)(["\n    display: inline-flex;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    padding: 20px;\n\n"]);return Wn=function(){return n},n}function _n(){var n=Object(j.a)(["\n    margin: auto;\n    width: fit-content;\n"]);return _n=function(){return n},n}function Un(){var n=Object(j.a)(["\n    display: block;\n    width: 100%;\n    @media(max-width: 768px){\n        font-size: 1.4em;\n    }\n"]);return Un=function(){return n},n}function Bn(n){var t=Object(c.useContext)(y)[1];return Object(r.jsx)(Yn,{children:t&&Object(r.jsx)(Jn,{children:Object(r.jsx)(Hn,{children:t.map((function(n){return Object(r.jsx)(An,{symbol:n},t.indexOf(n))}))})})})}var Yn=d.c.div(Un()),Jn=d.c.div(_n()),Hn=d.c.div(Wn()),qn=e(135),Vn=(e(215),Object(c.createContext)()),$n=function(n){var t=Object(c.useState)({loggedIn:!1,userName:void 0}),e=Object(s.a)(t,2),o=e[0],i=e[1];return Object(c.useEffect)((function(){document.cookie&&(document.cookie.split("; ").find((function(n){return n.startsWith("access_token=")})).split("=")[1]&&i({loggedIn:!0,userName:void 0}))}),[]),Object(r.jsx)(Vn.Provider,{value:[o,i],children:n.children})};function Gn(){var n=Object(j.a)(["\n    display: inline-block;\n    vertical-align:middle;\n    line-height:60px;\n    font-family: source_sans_prosemibold, Helvetica, Arial, sans-serif;\n    text-align: center;\n    box-sizing: border-box; \n    text-decoration: none;\n    font-size: 1.2em;\n    font-weight: 500;\n    width: 140px;\n    color: #fff;\n    text-shadow: 0px 2px 3px rgba(0,0,0,0.4),\n                0px 6px 11px rgba(0,0,0,0.1),\n                0px 12px 21px rgba(0,0,0,0.1);\n\n    :hover {\n        color:#21255e;\n        background-color:#fff;\n        transition-duration: 0.4s;\n        transition-timing-function: ease;\n        text-shadow: 0px 2px 3px rgba(0,0,0,0.4),\n                0px 8px 13px rgba(0,0,0,0.1),\n                0px 18px 23px rgba(0,0,0,0.1);\n    }\n    @media(max-width: 768px){\n        height: 50px;\n    }\n"]);return Gn=function(){return n},n}function Kn(n){var t=Object(c.useContext)(Vn),e=Object(s.a)(t,2),i=e[0],a=e[1],u=function(){"burger"===n.menuType&&n.closeMenu()},l=function(n){document.cookie="".concat(n,"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT")};return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(Xn,{onClick:u,to:"/",children:"Home"}),Object(r.jsx)(Xn,{onClick:u,to:"/favourites",children:"Favourites"}),i.loggedIn?Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(Xn,{onClick:u,to:"/trade",children:"Trade"}),Object(r.jsx)(Xn,{onClick:u,to:"/portfolio",children:"Portfolio"}),Object(r.jsx)(Xn,{to:"/",onClick:function(){a({loggedIn:!1,username:void 0}),l("access_token"),u()},children:"Logout"})]}):Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(Xn,{onClick:u,to:"/register",children:"Register"}),Object(r.jsx)(Xn,{onClick:u,to:"/login",children:"Login"})]}),Object(r.jsx)(Xn,{onClick:u,to:"/about",children:"About"})]})}var Xn=Object(d.c)(u.b)(Gn());function Qn(){var n=Object(j.a)(["\n    height: 100%;\n    display: block;\n    @media(max-width: 768px){\n        display: none;\n    }\n"]);return Qn=function(){return n},n}function Zn(){var n=Object(j.a)(["\n    height: 60px;\n    width: 100%;\n    background-color:#21255e;\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\n"]);return Zn=function(){return n},n}function nt(n){var t=function(){var n=Object(c.useState)([0,0]),t=Object(s.a)(n,2),e=t[0],r=t[1];return Object(c.useLayoutEffect)((function(){function n(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}}),[]),e}(),e=Object(s.a)(t,2),o=e[0],i=(e[1],Object(c.useState)(!1)),a=Object(s.a)(i,2),u=a[0],l=a[1];return Object(r.jsx)(tt,{children:o>768?Object(r.jsx)(et,{className:"navbar",children:Object(r.jsx)(Kn,{menuType:"nav"})}):Object(r.jsx)(qn.slide,{onStateChange:function(n){return function(n){l(n.isOpen)}(n)},isOpen:u,className:"burger",children:Object(r.jsx)(Kn,{menuType:"burger",closeMenu:function(){return l(!1)}})})})}var tt=d.c.div(Zn()),et=d.c.div(Qn()),rt=e.p+"static/media/modern-business-buildings.4963f08c.jpg";function ct(){var n=Object(j.a)(["\n    display: flex;\n    background-image: url(",");\n    background-size: cover;\n    background-repeat: no-repeat;\n    min-width: 768px;\n    height: 80vh;\n    width: 100vw;\n"]);return ct=function(){return n},n}function ot(){var n=Object(j.a)(["\n    color: #151728;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n\n    :hover {\n        color: #009cf0;\n    }\n  "]);return ot=function(){return n},n}function it(){var n=Object(j.a)(["\n    display: block;\n    position: absolute;\n    background-color: rgba(255, 255, 255, 0.8);\n    min-width: max(30%, 400px);\n "]);return it=function(){return n},n}function at(){var n=Object(j.a)(["\n    position: relative;\n    display: inline-block;\n    @media (max-width: 768px){\n        left: 25%;\n    }\n"]);return at=function(){return n},n}function st(){var n=Object(j.a)(["\n    width: 45px;\n    height: 41px;\n    border: 1px solid #21255e;\n    background: #21255e;\n    text-align: center;\n    color: #fff;\n    border-radius: 0 5px 5px 0;\n    cursor: pointer;\n    font-size: 25px;\n "]);return st=function(){return n},n}function ut(){var n=Object(j.a)(["\n    font-size: 23px;\n    width: 100%;\n    border: 3px solid #21255e;\n    border-right: none;\n    padding: 5px;\n    height: 25px;\n    border-radius: 5px 0 0 5px;\n    outline: none;\n    color: #151728;\n\n    :focus{\n        color: #21255e;\n    }\n"]);return ut=function(){return n},n}function lt(){var n=Object(j.a)(["\n    position: relative;\n    display: flex;\n    width: max(30%, 400px);\n    @media (max-width: 768px){\n        left: 50%;\n        transform: translate(-50%, 0%);\n    }\n"]);return lt=function(){return n},n}function dt(){var n=Object(j.a)(["\n    position: absolute;\n    min-width: 768px;\n    top: 60%;\n    left: 50%;\n    transform: translate(-25%, -50%);\n    @media (max-width: 768px){\n        top: 85%;\n        left: 0%;\n        transform: none;\n    }\n    \n"]);return dt=function(){return n},n}function jt(){var n=Object(c.useContext)(y)[3],t=Object(c.useState)([]),e=Object(s.a)(t,2),o=e[0],i=e[1],a=function(n){return Object(r.jsx)(pt,{to:"/stock/".concat(n.symbol),children:n.symbol},n.symbol)};return Object(r.jsx)(gt,{children:Object(r.jsxs)(bt,{children:[Object(r.jsxs)(ft,{children:[Object(r.jsx)(ht,{type:"text",placeholder:"Which stock are you looking for?",onChange:function(t){return function(t){var e=t.target.value.toLowerCase();i(e?n.filter((function(n){return n.toLowerCase().includes(e)})).slice(0,10):[])}(t)}}),Object(r.jsx)(xt,{type:"submit",children:Object(r.jsx)("i",{className:"fa fa-search"})})]}),Object(r.jsx)(Ot,{children:Object(r.jsx)(mt,{children:o&&o.map((function(n){return Object(r.jsx)(a,{symbol:n},n)}))})})]})})}var bt=d.c.div(dt()),ft=d.c.div(lt()),ht=d.c.input(ut()),xt=d.c.button(st()),Ot=d.c.div(at()),mt=d.c.div(it()),pt=Object(d.c)(u.b)(ot()),gt=d.c.div(ct(),rt);function vt(){var n=Object(j.a)(["\n    display: flex;\n    flex-direction:row;\n    justify-content: space-evenly;\n    width: 100%;\n    @media (max-width: 768px) {\n        flex-direction: column;\n    }\n"]);return vt=function(){return n},n}function yt(){var n=Object(j.a)(["\n    width: 25%;\n    @media (max-width: 768px) {\n        width: 75%;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        > p {\n            margin: 3px;\n        }\n    }\n"]);return yt=function(){return n},n}function wt(){var n=Object(j.a)(["\n    color: white;\n    text-decoration: none;\n    & :visited{\n        color: white;\n        text-decoration: none\n    }\n"]);return wt=function(){return n},n}function kt(){var n=Object(j.a)(["\n    background-color: #21255e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n    float: right;\n    margin: 5px;\n"]);return kt=function(){return n},n}function Ct(){var n=Object(j.a)(["\n    background-color: #47485e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n    float: right;\n    margin: 5px;\n"]);return Ct=function(){return n},n}function St(){var n=Object(j.a)(["\n    color: ",";    \n"]);return St=function(){return n},n}function Tt(){var n=Object(j.a)(["\n    font-size: 2em;\n    font-weight: bold;\n    float:left;\n    text-decoration:none;\n    color: black;\n"]);return Tt=function(){return n},n}function Nt(){var n=Object(j.a)(["\n    padding-left: 20px;\n    width: 100%\n"]);return Nt=function(){return n},n}function Pt(){var n=Object(j.a)(["\n    display:flex;\n    padding: 20px;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly\n"]);return Pt=function(){return n},n}function Ft(){var n=Object(j.a)(["\n    margin: 3em auto;\n    border: 1px solid #21255e;\n    box-shadow: 5px 10px 5px #21255e;\n    display: flex;\n    flex-direction: row;\n    @media (max-width: 768px) {\n        font-size: 1.2em;\n        width: 75%;\n        margin: 3em auto;\n    }\n"]);return Ft=function(){return n},n}function It(n){var t=Object(c.useContext)(E),e=Object(s.a)(t,4),i=e[0],a=(e[1],e[2]),u=e[3],l=(0,Object(c.useContext)(y)[2])(n.data.symbol),d=!!l&&l.change>=0;return Object(r.jsx)(o.a.Fragment,{children:i.length>0&&Object(r.jsxs)(Lt,{children:[Object(r.jsxs)(Et,{children:[Object(r.jsx)("button",{onClick:function(){return u(n.data.symbol,-1)},children:Object(r.jsx)("i",{className:"fa fa-arrow-up"})}),Object(r.jsx)("button",{onClick:function(){return u(n.data.symbol,1)},children:Object(r.jsx)("i",{className:"fa fa-arrow-down"})})]}),Object(r.jsxs)(zt,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(At,{to:"/stock/"+n.data.symbol,children:n.data.symbol}),d?Object(r.jsx)(Rt,{up:d,className:"fa fa-caret-up fa-lg"}):Object(r.jsx)(Rt,{up:d,className:"fa fa-caret-down fa-lg"}),Object(r.jsx)(Dt,{onClick:function(){return a(n.data)},children:"Unfollow"}),Object(r.jsx)(Mt,{children:Object(r.jsx)(Wt,{to:"/trade/"+n.data.symbol,children:"TRADE"})})]}),l&&Object(r.jsxs)(Ut,{children:[Object(r.jsxs)(_t,{children:[Object(r.jsx)("p",{children:"Latest price"}),Object(r.jsx)("p",{children:l.latestPrice})]}),Object(r.jsxs)(_t,{children:[Object(r.jsx)("p",{children:"Change (%)"}),Object(r.jsx)("p",{children:Math.round(1e4*l.changePercent)/100+"%"})]}),Object(r.jsxs)(_t,{children:[Object(r.jsx)("p",{children:"Previous close"}),Object(r.jsx)("p",{children:n.data.previousClose})]}),Object(r.jsxs)(_t,{children:[Object(r.jsx)("p",{children:"Average volume"}),Object(r.jsx)("p",{children:n.data.avgTotalVolume})]}),Object(r.jsxs)(_t,{children:[Object(r.jsx)("p",{children:"Market cap"}),Object(r.jsx)("p",{children:n.data.marketCap})]})]})]})]})})}var Lt=d.c.div(Ft()),Et=d.c.div(Pt()),zt=d.c.div(Nt()),At=Object(d.c)(u.b)(Tt()),Rt=d.c.i(St(),(function(n){return n.up?"green":"darkred"})),Dt=d.c.button(Ct()),Mt=d.c.button(kt()),Wt=Object(d.c)(u.b)(wt()),_t=d.c.div(yt()),Ut=d.c.div(vt());function Bt(){var n=Object(c.useContext)(E),t=Object(s.a)(n,1)[0];return Object(r.jsx)("div",{style:Yt,children:0===t.length?Object(r.jsx)("p",{style:Jt,children:"No items added to the favourites yet"}):t.map((function(n){return Object(r.jsx)(It,{data:n},n.symbol)}))})}var Yt={maxWidth:"1000px",margin:"4em auto"},Jt={margin:"4em auto",textAlign:"center"},Ht={light:{color:"white"},dark:{color:"grey"}},qt=(e(216),e(349)),Vt=e(94),$t=e(339),Gt=e(346),Kt=e(355),Xt=e(354),Qt=e(352),Zt=e(348),ne=e(340);function te(){var n=Object(j.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: -1em, auto;\n    > .item {\n        width: 80%;\n        margin: 1em auto;\n    }\n"]);return te=function(){return n},n}function ee(n){var t=n.symbol,e=n.symbolList,c=n.limitPrice,i=n.count,a=n.direction,u=n.handleChange,l=n.handleSubmit,d=n.selectSymbol,j=n.notAllValid,b=o.a.useState(t),f=Object(s.a)(b,2),h=f[0],x=f[1];return Object(r.jsxs)(re,{autoComplete:"off",children:[Object(r.jsx)(Zt.a,{className:"item",options:e,value:h,onChange:function(n,t){x(t),d(t)},renderInput:function(n){return Object(r.jsx)(Qt.a,Object(Vt.a)(Object(Vt.a)({},n),{},{label:"Symbol",name:"symbol"}))}}),Object(r.jsxs)($t.a,{className:"item",children:[Object(r.jsx)(Xt.a,{children:"Action"}),Object(r.jsxs)(Gt.a,{label:"Action",name:"direction",value:a,onChange:u,children:[Object(r.jsx)(Kt.a,{value:"-",children:"-"}),Object(r.jsx)(Kt.a,{value:"BUY",children:"BUY"}),Object(r.jsx)(Kt.a,{value:"SELL",children:"SELL"})]})]}),Object(r.jsx)(Qt.a,{className:"item",label:"Stock Count",name:"count",type:"number",value:i,onChange:u,InputProps:{inputProps:{min:1,step:1}}}),Object(r.jsx)(Qt.a,{className:"item",label:"Limit Price",name:"price",type:"number",value:c,onChange:u,InputProps:{inputProps:{min:.01,step:.01}}}),Object(r.jsx)(ne.a,{disabled:j,onClick:l,color:"primary",variant:"contained",children:"Trade!"})]})}var re=d.c.form(te()),ce=e(344),oe=e(342),ie=e(343),ae=e(341),se=e(351);function ue(n){var t=n.confirmClose,e=n.handleSubmit,c=n.confirmIsOpen,o=n.symbol,i=n.direction,a=n.count,s=n.limitPrice;return Object(r.jsx)("div",{children:Object(r.jsxs)(se.a,{open:c,onClose:t,children:[Object(r.jsx)(ae.a,{id:"alert-dialog-title",children:"Do you want to place the following order?"}),Object(r.jsx)(oe.a,{children:Object(r.jsxs)(ie.a,{id:"alert-dialog-description",children:[Object(r.jsxs)("span",{children:["Symbol: ",o]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{children:["Action: ",i]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{children:["Amount: ",a]}),Object(r.jsx)("br",{}),Object(r.jsxs)("span",{children:["Limit Price: ",s," USD"]}),Object(r.jsx)("br",{})]})}),Object(r.jsxs)(ce.a,{children:[Object(r.jsx)(ne.a,{onClick:t,color:"primary",children:"Disagree"}),Object(r.jsx)(ne.a,{onClick:e,color:"primary",autoFocus:!0,children:"Agree"})]})]})})}function le(){var n=Object(j.a)(["\n    text-align: center;\n    color: #21255e\n"]);return le=function(){return n},n}function de(){var n=Object(j.a)(["\n    padding: 2em;\n    background-color:white;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return de=function(){return n},n}function je(){var n=Object(j.a)(["\n    display: block;\n    margin: 5em auto;\n    border: 2px solid #21255e;\n    box-shadow: 5px 10px 5px #21255e;\n    width: 450px;\n"]);return je=function(){return n},n}function be(n){var t=Object(c.useContext)(y)[3],e=Object(c.useContext)(Vn)[1],i=Object(c.useState)(n.match.params.symbol?n.match.params.symbol:t[0]),a=Object(s.a)(i,2),u=a[0],d=a[1],j=Object(c.useState)(0),b=Object(s.a)(j,2),f=b[0],h=b[1],x=Object(c.useState)("-"),O=Object(s.a)(x,2),m=O[0],p=O[1],g=Object(c.useState)(1),v=Object(s.a)(g,2),w=v[0],k=v[1],C=Object(c.useState)(!1),S=Object(s.a)(C,2),T=S[0],N=S[1],P=Object(c.useState)(!1),F=Object(s.a)(P,2),I=F[0],L=F[1],E=Object(c.useState)(""),z=Object(s.a)(E,2),A=z[0],R=z[1],D=Object(c.useState)(!1),M=Object(s.a)(D,2),W=M[0],_=M[1],U=Object(c.useState)(!0),B=Object(s.a)(U,2),Y=B[0],J=B[1],H=function(){return _(!1)};Object(c.useEffect)((function(){J(!t.includes(u)||w<=0||f<=0||"-"===m)}),[u,f,m,w]);var q=function(n){var t="Transaction failed.\n";switch(n){case"LIMIT_PRICE_MISMATCH":t+="Limit price does not match current stock price";break;case"INSUFFICIENT_FUND":t+="Balance not sufficient to execute transaction";break;case"INSUFFICIENT_STOCK":t+="Owned stock not sufficient to execute transaction";break;case"DATABASE_PROBLEM":t+="Transaction could not be finalized due to database problems";break;default:t+="Invalid data sent in request"}R(t)},V=function(n){if(n.ok)return n;throw 403===n.status?(N(!0),e({loggedIn:!1,userName:void 0})):400===n.status&&n.json().then((function(n){return $(R,n.message)})).catch((function(n){return $(R,"Transaction failed, no action (BUY/SELL) specified")})),Error(n.statusText)},$=function(n,t){H(),n(t),L(!0)};return Object(r.jsxs)(fe,{children:[!0===T?Object(r.jsx)(l.a,{to:"/portfolio"}):Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(xe,{children:"Place an order"}),Object(r.jsx)(ee,{symbol:u,symbolList:t,limitPrice:f,count:w,direction:m,notAllValid:Y,selectSymbol:function(n){return d(n)},handleChange:function(n){var t=n.target.value;switch(n.target.name){case"price":h(t);break;case"direction":p(t);break;case"count":k(t)}},handleSubmit:function(){return _(!0)}})]}),Object(r.jsx)(qt.a,{open:I,onClose:function(){return L(!1)},children:Object(r.jsx)(he,{children:A})}),Object(r.jsx)(ue,{confirmClose:H,handleSubmit:function(){var n={symbol:u,limitPrice:f,direction:m,status:"PENDING",count:w};if(document.cookie){var t=document.cookie.split("; ").find((function(n){return n.startsWith("access_token=")})).split("=")[1];fetch("https://stock-exchange-platform.herokuapp.com/trade",{method:"post",body:JSON.stringify(n),headers:{Authorization:"Bearer "+t,"Content-Type":"application/json;charset=utf-8"}}).then(V).then((function(n){return n.json()})).then((function(n){"COMPLETED"===n?N(!0):$(q,n)})).catch((function(n){return console.log(n)}))}},confirmIsOpen:W,symbol:u,direction:m,count:w,limitPrice:f})]})}var fe=d.c.div(je()),he=d.c.div(de()),xe=d.c.h2(le());function Oe(){var n=Object(j.a)(["\n    text-align: center;\n    padding: 1em 1em;\n"]);return Oe=function(){return n},n}function me(n){var t=n.transaction;return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)(pe,{children:t.transactionTime.slice(0,t.transactionTime.indexOf(".")).replace("T"," ")}),Object(r.jsx)(pe,{children:t.stockChange<0?"SELL":"BUY"}),Object(r.jsx)(pe,{children:Math.abs(t.stockChange)}),Object(r.jsx)(pe,{children:t.stockPrice}),Object(r.jsx)(pe,{children:-1*(t.stockPrice*t.stockChange).toFixed(2)}),Object(r.jsx)(pe,{children:t.stockCountAfter}),Object(r.jsx)(pe,{children:t.balanceAfter})]})})}var pe=d.c.td(Oe());function ge(){var n=Object(j.a)(["\n    color: #21255e;\n    &:visited{\n        color: #21255e;\n    }\n"]);return ge=function(){return n},n}function ve(){var n=Object(j.a)(["\n    text-align: center;\n    padding: 1em 1em;\n    border-bottom: 1px solid black;\n    border-top: 1px solid black;\n    border-collapse: collapse;\n"]);return ve=function(){return n},n}function ye(){var n=Object(j.a)(["\n    font-size: 1.5em;\n    font-weight: bold;\n    text-align: center\n"]);return ye=function(){return n},n}function we(){var n=Object(j.a)(["\n    width: 90%;\n    margin: 2em auto 0;\n    border-collapse: collapse;\n    padding: 0 3em;\n    &:last-child{\n        border-bottom: 2px solid black;\n    }\n\n"]);return we=function(){return n},n}function ke(){var n=Object(j.a)(["\n    border-bottom: 2px solid black;\n    border-top: 2px solid black;\n\n"]);return ke=function(){return n},n}function Ce(){var n=Object(j.a)(["\n    width: 80%;\n    overflow: auto;\n    max-height: 50vh;\n    padding: 2em;\n    background-color:white;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return Ce=function(){return n},n}var Se=History=o.a.forwardRef((function(n,t){return Object(r.jsxs)(Ne,{children:[Object(r.jsxs)(Ie,{children:["Transaction history for stock: ",Object(r.jsx)(Ee,{to:"/stock/"+n.symbol,children:n.symbol})]}),Object(r.jsxs)(Fe,{children:[Object(r.jsx)(Pe,{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)(Le,{children:"Date"}),Object(r.jsx)(Le,{children:"Action"}),Object(r.jsx)(Le,{children:"Amount"}),Object(r.jsx)(Le,{children:"Stock Price"}),Object(r.jsxs)(Le,{children:["Balance change (",n.currency,")"]}),Object(r.jsx)(Le,{children:"Stock Count After"}),Object(r.jsxs)(Le,{children:["Balance After (",n.currency,")"]})]})}),Object(r.jsx)("tbody",{children:n.transactions&&n.transactions.sort(Te).map((function(n){return Object(r.jsx)(me,{transaction:n},n.id)}))})]})]})})),Te=function(n,t){return Date.parse(n.transactionTime)>Date.parse(t.transactionTime)?-1:1},Ne=d.c.div(Ce()),Pe=d.c.thead(ke()),Fe=d.c.table(we()),Ie=d.c.div(ye()),Le=d.c.th(ve()),Ee=Object(d.c)(u.b)(ge());function ze(){var n=Object(j.a)(["\n    color: white;\n    text-decoration: none;\n    & :visited{\n        color: white;\n        text-decoration: none\n    }\n"]);return ze=function(){return n},n}function Ae(){var n=Object(j.a)(["\n    display: flex;\n    flex-direction:row;\n    justify-content: space-evenly;\n    width: 100%;\n    @media (max-width: 768px) {\n        flex-direction: column;\n    }\n"]);return Ae=function(){return n},n}function Re(){var n=Object(j.a)(["\n    text-align:center;\n    width: 25%;\n    @media (max-width: 768px) {\n        width: 85%;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        > p {\n            margin: 3px;\n        }\n    }\n"]);return Re=function(){return n},n}function De(){var n=Object(j.a)(["\n    background-color: #21255e;\n    color: white;\n    font-weight: bolder;\n    font-size: 1.2em;\n    cursor: pointer;\n    float: right;\n    margin: 5px;\n"]);return De=function(){return n},n}function Me(){var n=Object(j.a)(["\n    font-size: 2em;\n    font-weight: bold;\n    float:left;\n    text-decoration:none;\n    color: black;\n"]);return Me=function(){return n},n}function We(){var n=Object(j.a)(["\n    padding-left: 20px;\n    width: 100%\n"]);return We=function(){return n},n}function _e(){var n=Object(j.a)(["\n    margin: 3em auto;\n    border: 1px solid #21255e;\n    box-shadow: 5px 10px 5px #21255e;\n    display: flex;\n    flex-direction: row;\n    @media (max-width: 768px) {\n        font-size: 1.3em;\n        width: 100%;\n        margin: 3em auto;\n    }\n"]);return _e=function(){return n},n}function Ue(n){var t="/trade/"+n.item.symbol,e=(0,Object(c.useContext)(y)[2])(n.item.symbol),i=Object(c.useState)(!1),a=Object(s.a)(i,2),u=a[0],l=a[1],d=o.a.useMemo((function(){var t=n.transactions.map((function(n){return Date.parse(n.transactionTime)}));return new Date(t.reduce((function(n,t){return Math.max(n,t)}))).toISOString()}),[n.transactions]),j=Object(c.createRef)();return Object(r.jsx)(Be,{children:Object(r.jsxs)(Ye,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Je,{to:"/stock/"+n.item.symbol,children:n.item.symbol}),Object(r.jsx)(He,{children:Object(r.jsx)($e,{to:t,children:"TRADE"})}),Object(r.jsx)(He,{onClick:function(){return l(!0)},children:"History"})]}),Object(r.jsxs)(Ve,{children:[Object(r.jsxs)(qe,{children:[Object(r.jsx)("p",{children:"Last Transaction"}),d&&d.replace("T"," ").substring(0,d.indexOf("."))]}),Object(r.jsxs)(qe,{children:[Object(r.jsx)("p",{children:"Total Owned"}),Object(r.jsx)("p",{children:n.item.amount})]}),Object(r.jsxs)(qe,{children:[Object(r.jsx)("p",{children:"Total Value"}),Object(r.jsx)("p",{children:(n.item.amount*e.latestPrice).toFixed(2)})]}),Object(r.jsxs)(qe,{children:[Object(r.jsx)("p",{children:"Latest Price"}),Object(r.jsx)("p",{children:e.latestPrice})]})]}),Object(r.jsx)(qt.a,{open:u,onClose:function(){return l(!1)},children:Object(r.jsx)(Se,{ref:j,transactions:n.transactions,currency:n.currency,symbol:n.item.symbol})})]})})}var Be=d.c.div(_e()),Ye=d.c.div(We()),Je=Object(d.c)(u.b)(Me()),He=d.c.button(De()),qe=d.c.div(Re()),Ve=d.c.div(Ae()),$e=Object(d.c)(u.b)(ze());function Ge(){var n=Object(j.a)(["\n    margin: 2em 0;\n    @media (max-width: 768px){\n        font-size: 1.3em;\n        margin-right: auto;\n    }\n"]);return Ge=function(){return n},n}function Ke(){var n=Object(j.a)(["\n"]);return Ke=function(){return n},n}function Xe(){var n=Object(j.a)(["\n    border-bottom: 1px solid #ddd;\n    padding: 10px;\n    text-align: right;\n"]);return Xe=function(){return n},n}function Qe(){var n=Object(j.a)(["\n    border-bottom: 1px solid #ddd;\n    padding: 10px 10px 10px 0;\n    text-align: left;\n"]);return Qe=function(){return n},n}function Ze(n){var t=Object(c.useContext)(y)[1],e=n.user.account.balance,o=0;return 0!==t.length&&(o=n.user.portfolio.map((function(n){return n.amount*function(n){var e=t.filter((function(t){return t.symbol===n}));return Object(s.a)(e,1)[0].latestPrice}(n.symbol)})).reduce((function(n,t){return n+t}),0)),Object(r.jsx)(rr,{children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)(er,{children:[Object(r.jsx)(nr,{children:"Name: "}),Object(r.jsxs)(tr,{children:[n.user.firstName," ",n.user.lastName]})]}),Object(r.jsxs)(er,{children:[Object(r.jsx)(nr,{children:"Balance: "}),Object(r.jsxs)(tr,{children:[e.toFixed(2)," ",n.user.account.currency]})]}),Object(r.jsxs)(er,{children:[Object(r.jsx)(nr,{children:"Stock: "}),Object(r.jsxs)(tr,{children:[o.toFixed(2)," USD"]})]}),Object(r.jsxs)(er,{children:[Object(r.jsx)(nr,{children:"Total worth: "}),Object(r.jsxs)(tr,{children:[(o+e).toFixed(2)," USD"]})]})]})})}var nr=d.c.td(Qe()),tr=d.c.td(Xe()),er=d.c.tr(Ke()),rr=d.c.table(Ge());function cr(){var n=Object(j.a)(["\n    margin: auto;\n    width: 60%;\n    text-align: left;\n    @media (max-width: 768px) {\n        width: 80%;\n    }\n"]);return cr=function(){return n},n}function or(){var n=Object(c.useContext)(Vn),t=Object(s.a)(n,2),e=t[0],i=t[1],a=Object(c.useState)(!1),u=Object(s.a)(a,2),d=u[0],j=u[1],b=Object(c.useState)(0),f=Object(s.a)(b,2),h=f[0],x=f[1],O=Object(c.useState)([]),m=Object(s.a)(O,2),p=m[0],g=m[1],v=Object(c.useState)([]),y=Object(s.a)(v,2),w=y[0],k=y[1];Object(c.useEffect)((function(){if(document.cookie){var n=document.cookie.split("; ").find((function(n){return n.startsWith("access_token=")})).split("=")[1];fetch("https://stock-exchange-platform.herokuapp.com/user",{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json;charset=utf-8"}}).then(C).then((function(n){return n.json()})).then((function(n){x(n),g(n.portfolio.filter((function(n){return n.amount>0}))),k(n.portfolio.filter((function(n){return 0===n.amount})))})).catch((function(n){return console.log(n)}))}}),[]);var C=function(n){if(n.ok)return n;throw 403===n.status&&(j(!0),i({loggedIn:!1,userName:void 0})),Error(n.statusText)};return Object(r.jsxs)(c.Fragment,{children:[d&&Object(r.jsx)(l.a,{to:"/login"}),e.loggedIn&&Object(r.jsx)(ir,{children:0!==h?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("h2",{children:"Account overview"}),Object(r.jsx)(Ze,{user:h}),p.length>=1?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("h2",{children:"Currently on portfolio"}),p.map((function(n){return Object(r.jsx)(Ue,{item:n,currency:h.account.currency,transactions:h.userHistoryList.filter((function(t){return t.symbol===n.symbol}))},n.id)}))]}):Object(r.jsx)(o.a.Fragment,{}),w.length>=1?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("h2",{children:"Previously on portfolio"}),w.map((function(n){return Object(r.jsx)(Ue,{item:n,currency:h.account.currency,transactions:h.userHistoryList.filter((function(t){return t.symbol===n.symbol}))},n.id)}))]}):Object(r.jsx)(o.a.Fragment,{})]}):"Loading"})]})}var ir=d.c.div(cr()),ar=e(95);function sr(){var n=Object(j.a)(["\n    padding: 2em;\n    background-color:white;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return sr=function(){return n},n}function ur(){var n=Object(j.a)(["\n    margin: auto auto;\n    width: 400px;\n"]);return ur=function(){return n},n}function lr(n){var t=Object(c.useContext)(Vn)[1],e=Object(c.useState)(!1),o=Object(s.a)(e,2),i=o[0],a=o[1],u=Object(c.useState)(!1),d=Object(s.a)(u,2),j=d[0],b=d[1],f=Object(c.useState)(""),h=Object(s.a)(f,2),x=h[0],O=h[1],m=Object(c.useRef)(),p=Object(c.useRef)(),g=Object(c.useState)(!0),v=Object(s.a)(g,2),y=v[0],w=v[1],k=Object(c.useState)(!0),C=Object(s.a)(k,2),S=C[0],T=C[1],N=Object(c.useState)(!1),P=Object(s.a)(N,2),F=P[0],I=P[1],L=Object(c.useState)(!0),E=Object(s.a)(L,2),z=E[0],A=E[1],R="Invalid username or password!",D=function(n){if(n.ok)return n;if(403===n.status)throw O(R),b(!0),Error(x);throw Error(n.statusText)},M=function(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.current.value)},W=function(){return 0!==p.current.value.length},_=function(){return 0===p.current.value.length||0===m.current.value.length},U=function(){return I(!0),w(M()),T(W()),M()&&W()};return Object(r.jsxs)(dr,{children:[i&&Object(r.jsx)(l.a,{to:"/portfolio"}),Object(r.jsx)(qt.a,{open:j,onClose:function(){return b(!1)},children:Object(r.jsx)(jr,{children:x})}),Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(Qt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",inputRef:m,autoFocus:!0,autoComplete:"off",type:"email",error:!y,onChange:function(){A(_()),F&&w(M())},helperText:y?"":"Invalid email"}),Object(r.jsx)(Qt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",inputRef:p,autoComplete:"off",error:!S,onChange:function(){A(_()),T(W())},helperText:S?"":"Invalid password input"})]}),Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(ne.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",disabled:z,size:"large",onClick:function(){if(U()){var n={username:m.current.value,password:p.current.value};fetch("https://stock-exchange-platform.herokuapp.com/login",{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json;charset=utf-8"}}).then(D).then((function(n){return n.json()})).then((function(n){t({loggedIn:!0,username:n.username}),document.cookie="access_token=".concat(n.token),a(!0)})).catch((function(n){return console.log(n)}))}},children:"Login"}),Object(r.jsx)(ar.a,{align:"center",color:"primary",tabIndex:0,role:"button",children:"Forgot Password?"})]})]})}var dr=d.c.div(ur()),jr=d.c.div(sr()),br=e(345),fr=e(350);function hr(){var n=Object(j.a)(["\n    padding: 2em;\n    background-color:white;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return hr=function(){return n},n}function xr(){var n=Object(j.a)(["\n    margin: auto auto;\n    width: 400px;\n"]);return xr=function(){return n},n}function Or(){var n=Object(c.useState)(!0),t=Object(s.a)(n,2),e=t[0],o=t[1],i=Object(c.useState)(!1),a=Object(s.a)(i,2),u=a[0],d=a[1],j=Object(c.useState)(!1),b=Object(s.a)(j,2),f=b[0],h=b[1],x=Object(c.useState)(""),O=Object(s.a)(x,2),m=O[0],p=O[1],g=function(){return d(!0)},v=Object(c.useRef)(),y=Object(c.useRef)(),w=Object(c.useRef)(),k=Object(c.useRef)(),C=Object(c.useRef)(),S=Object(c.useRef)(),T=Object(c.useState)(!0),N=Object(s.a)(T,2),P=N[0],F=N[1],I=Object(c.useState)(!0),L=Object(s.a)(I,2),E=L[0],z=L[1],A=Object(c.useState)(!0),R=Object(s.a)(A,2),D=R[0],M=R[1],W=Object(c.useState)(!0),_=Object(s.a)(W,2),U=_[0],B=_[1],Y=Object(c.useState)(!1),J=Object(s.a)(Y,2),H=J[0],q=J[1],V=Object(c.useState)(!1),$=Object(s.a)(V,2),G=$[0],K=$[1],X="Server could not complete the registration! Please try again later!",Q="Username already taken!",Z=function(n){if(n.ok)return n;if(409===n.status)throw p(Q),g(),Error(m);throw Error(n.statusText)},nn=function(){var n=w.current.value;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)},tn=function(n){return 0!==n.length},en=function(){var n=k.current.value,t=C.current.value;return!!tn(n)&&n===t},rn=function(){var n=tn(v.current.value),t=tn(y.current.value),e=nn(),r=en();return z(n),M(t),F(e),B(r),n&&t&&e&&r};return Object(r.jsxs)(mr,{children:[!0===f?Object(r.jsx)(l.a,{to:"/login"}):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)(qt.a,{open:u,onClose:function(){return d(!1)},children:Object(r.jsx)(pr,{children:m})}),Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(Qt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"First Name",autoFocus:!0,inputRef:v,autoComplete:"off",error:!E,onChange:function(){return z(tn(v.current.value))},helperText:E?"":"Invalid first name"}),Object(r.jsx)(Qt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Last Name",autoFocus:!0,inputRef:y,autoComplete:"off",error:!D,onChange:function(){return M(tn(y.current.value))},helperText:D?"":"Invalid last name"}),Object(r.jsx)(Qt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",autoFocus:!0,inputRef:w,autoComplete:"off",type:"email",error:!P,onChange:function(){G&&F(nn())},helperText:P?"":"Invalid email"}),Object(r.jsx)(Qt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",inputRef:k,autoComplete:"off",error:!U,onChange:function(){H&&B(en())},helperText:U?"":"Invalid password input"}),Object(r.jsx)(Qt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Repeat Password",type:"password",inputRef:C,autoComplete:"off",error:!U,onChange:function(){H&&B(en())},helperText:U?"":"Invalid password input"}),Object(r.jsx)(br.a,{style:{marginRight:0},control:Object(r.jsx)(fr.a,{color:"primary",inputRef:S,onChange:function(n){o(!n.target.checked)}}),label:Object(r.jsxs)(ar.a,{variant:"body1",children:["I agree to the",Object(r.jsxs)("span",{tabIndex:0,role:"button",children:[" ","terms of service"]})]})})]}),Object(r.jsx)(ne.a,{type:"submit",fullWidth:!0,variant:"contained",size:"large",color:"secondary",onClick:function(){if(q(!0),K(!0),rn()){var n={firstName:v.current.value,lastName:y.current.value,username:w.current.value,password:k.current.value};fetch("https://stock-exchange-platform.herokuapp.com/register",{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json;charset=utf-8"}}).then(Z).then((function(n){return n.json()})).then((function(n){!0===n.success?h(!0):(p(X),g())})).catch((function(n){return console.log(n)}))}},disabled:e,children:"Register"})]})}var mr=d.c.div(xr()),pr=d.c.div(hr()),gr=e(140),vr=e.n(gr);function yr(){var n=Object(j.a)(["\n    width: min(80%, 900px);\n    margin: 4em auto;\n    line-height: 1.5em;\n"]);return yr=function(){return n},n}function wr(){var n=Object(c.useState)(""),t=Object(s.a)(n,2),e=t[0],o=t[1];return Object(c.useEffect)((function(){fetch("https://stock-exchange-platform.herokuapp.com/about/en").then((function(n){return n.json()})).then((function(n){return o(n.details)}))}),[e]),Object(r.jsx)(kr,{children:e})}var kr=Object(d.c)(vr.a)(yr());var Cr=function(){var n=Object(c.useState)("light"),t=Object(s.a)(n,2),e=t[0],o=t[1];return Object(r.jsx)(d.a,{theme:Ht[e],children:Object(r.jsx)($n,{children:Object(r.jsx)(z,{children:Object(r.jsx)(w,{children:Object(r.jsx)(u.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(nt,{currentTheme:e,setTheme:o}),Object(r.jsx)(Bn,{}),Object(r.jsx)(l.b,{path:"/favourites",component:Bt}),Object(r.jsx)(l.b,{exact:!0,path:"/",component:jt}),Object(r.jsx)(l.b,{path:"/stock/:symbol",component:Sn}),Object(r.jsx)(l.b,{path:"/trade/:symbol?",component:be}),Object(r.jsx)(l.b,{path:"/portfolio",component:or}),Object(r.jsx)(l.b,{path:"/register",component:Or}),Object(r.jsx)(l.b,{path:"/login",component:lr}),Object(r.jsx)(l.b,{path:"/about",component:wr})]})})})})})})};e(290).config(),a.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Cr,{})}),document.getElementById("root"))}},[[293,1,2]]]);
//# sourceMappingURL=main.ec13b5c1.chunk.js.map